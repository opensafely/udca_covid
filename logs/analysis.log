
. * Open file to write results to 
. file open tablecontent using ./output/tables/cum_incidence.txt, write text re
> place
(note: file ./output/tables/cum_incidence.txt not found)

. file write tablecontent ("Outcome") _tab ("Exposure") _tab ("Cumulative incid
> ence") _tab ("95% confidence interval") _n

. 
. 
. /* plot for each outcome - age and sex adjusted only
> foreach outcome in hosp_any composite_any {
>     use ./output/an_dataset_`outcome', clear 
>     describe
>     gen index_date = date("01/03/2020", "DMY")
>     stset stop, fail(`outcome'_flag) id(patient_id) enter(index_date) origin(
> index_date)
> 
>     * Add cumulative incidence plots 
>     * Not stratifying by stp as cannot use tvc and stratify  
>     
>     * Age and sex adjusted model 
>     * Setting df (degrees of freedom for restricted cubic splines) as 3 as th
> is is default 
>     * Setting dftvc (degrees of freedom for time-dependent effects) as 1 = li
> near effect of log time 
>     stpm2 udca age_tv male, tvc(udca) dftvc(1) df(3) scale(hazard) eform
>     summ _t
>     local tmax=r(max)
>     local tmaxplus1=r(max)+1
> 
>     range days 0 `tmax' `tmaxplus1'
>     stpm2_standsurv if udca == 1, at1(udca 0) at2(udca 1) timevar(days) ci co
> ntrast(difference) fail
> 
>     gen date = d(1/3/2020)+ days
>     format date %tddd_Month
> 
>     for var _at1 _at2 _at1_lci _at1_uci _at2_lci _at2_uci _contrast2_1 _contr
> ast2_1_lci _contrast2_1_uci: replace X=100*X
> 
>     *cumulative mortality at last day of follow-up - write to file 
>     file write tablecontent ("`outcome'") _tab ("No UDCA") _tab  
>     * cumulative outcome - no UDCA 
>     sum _at1 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
>     * cumulative outcome - UDCA 
>     file write tablecontent ("`outcome'") _tab ("UDCA") _tab  
>     sum _at2 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
>     
>     *l date days _at1 _at1_lci _at1_uci _at2 _at2_lci _at2_uci if days<.
> 
>     twoway  (rarea _at1_lci _at1_uci days, color(red%25)) ///
>                     (rarea _at2_lci _at2_uci days, color(blue%25)) ///
>                     (line _at1 days, sort lcolor(red)) ///
>                     (line _at2 days, sort lcolor(blue) lpattern(dash)) ///
>                     , legend(order(1 "No UDCA" 2 "UDCA") ring(0) cols(1) pos(
> 11) region(lwidth(none))) ///
>                     title("Time to `outcome'", justification(left) size(med) 
> )             ///
>                     yscale(range(0, 1))                                      
>                                                    ///
>                     ylabel(0 (1) 10, angle(0) format(%4.1f) labsize(small))  
>    ///
>                     xlabel(0 (200) 1035, labsize(small))                     
>                                            ///                     
>                     ytitle("Cumulative outcomes (%)", size(medsmall)) ///
>                     xtitle("Days since 1 Mar 2020", size(medsmall))          
>            ///
>                     graphregion(fcolor(white)) saving(adjcurv_`outcome', repl
> ace)
> 
>     graph export "./output/graphs/adjcurv_`outcome'.svg", as(svg) replace
> 
>     * Close window 
>     graph close
> 
> }
> 
> use ./output/an_dataset_died_covid_any, clear 
>     describe
>     gen index_date = date("01/03/2020", "DMY")
>     stset stop, fail(died_covid_any_flag) id(patient_id) enter(index_date) or
> igin(index_date)
> 
>     * Add cumulative incidence plots 
>     * Not stratifying by stp as cannot use tvc and stratify 
>     
>     * Age and sex adjusted model 
>     * Setting df (degrees of freedom for restricted cubic splines) as 3 as th
> is is default 
>     * Setting dftvc (degrees of freedom for time-dependent effects) as 1 = li
> near effect of log time 
>     stpm2 udca age_tv male, tvc(udca) dftvc(1) df(3) scale(hazard) eform
>     summ _t
>     local tmax=r(max)
>     local tmaxplus1=r(max)+1
> 
>     range days 0 `tmax' `tmaxplus1'
>     stpm2_standsurv if udca == 1, at1(udca 0) at2(udca 1) timevar(days) ci co
> ntrast(difference) fail
> 
>     gen date = d(1/3/2020)+ days
>     format date %tddd_Month
> 
>     for var _at1 _at2 _at1_lci _at1_uci _at2_lci _at2_uci _contrast2_1 _contr
> ast2_1_lci _contrast2_1_uci: replace X=100*X
> 
>     *cumulative mortality at last day of follow-up - write to file 
>     file write tablecontent ("Death") _tab ("No UDCA") _tab  
>     * cumulative outcome - no UDCA 
>     sum _at1 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
>     * cumulative outcome - UDCA 
>     file write tablecontent ("Death") _tab ("UDCA") _tab  
>     sum _at2 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
> 
>     *l date days _at1 _at1_lci _at1_uci _at2 _at2_lci _at2_uci if days<.
> 
>     twoway  (rarea _at1_lci _at1_uci days, color(red%25)) ///
>                     (rarea _at2_lci _at2_uci days, color(blue%25)) ///
>                     (line _at1 days, sort lcolor(red)) ///
>                     (line _at2 days, sort lcolor(blue) lpattern(dash)) ///
>                     , legend(order(1 "No UDCA" 2 "UDCA") ring(0) cols(1) pos(
> 11) region(lwidth(none))) ///
>                     title("Time to COVID-19 death", justification(left) size(
> med) )        ///
>                     yscale(range(0, 1))                                      
>                                                    ///
>                     ylabel(0 (0.2) 2, angle(0) format(%4.1f) labsize(small)) 
>    ///
>                     xlabel(0 (200) 1035, labsize(small))                     
>                                            ///                     
>                     ytitle("Cumulative mortality (%)", size(medsmall)) ///
>                     xtitle("Days since 1 Mar 2020", size(medsmall))          
>            ///
>                     graphregion(fcolor(white)) saving(adjcurv_`outcome', repl
> ace)
> 
>     graph export "./output/graphs/adjcurv_died_covid_any.svg", as(svg) replac
> e
> 
>     * Close window 
>     graph close
>     */
. 
. * plot for each outcome - fully adjusted 
. foreach outcome in hosp_any composite_any {
  2.     use ./output/an_dataset_`outcome', clear 
  3.     describe
  4.     gen index_date = date("01/03/2020", "DMY")
  5.     stset stop, fail(`outcome'_flag) id(patient_id) enter(index_date) orig
> in(index_date)
  6. 
.     * Add cumulative incidence plots 
.     * Not stratifying by stp as cannot use tvc and stratify 
.     * Fully adjusted model (though not including wave as not right in main mo
> del)
.     * Setting df (degrees of freedom for restricted cubic splines) as 3 as th
> is is default 
.     * Setting dftvc (degrees of freedom for time-dependent effects) as 1 = li
> near effect of log time
.     * stpm2_standsurv cannot use factor variables so creating dummy variables
> :
.     tab imd, gen(imd) 
  7.     tab bmi_cat, gen(bmi_cat)
  8.     tab smoking, gen(smoking)
  9.     * Check all binary 
.     foreach vars in udca male any_high_risk_condition eth_bin imd1 imd2 imd3 
> imd4 imd5 bmi_cat1 bmi_cat2 bmi_cat3 ///
>     bmi_cat4 bmi_cat5 smoking1 smoking2 smoking3 severe_disease covid_vacc_fi
> rst liver_trans {
 10.         tab `vars', m nolabel
 11.     } 
 12.     stpm2 udca male /*age_tv*/ any_high_risk_condition eth_bin imd1 imd2 i
> md3 imd4 imd5 bmi_cat1 bmi_cat2 bmi_cat3 ///
>     bmi_cat4 bmi_cat5 smoking1 smoking2 smoking3 severe_disease covid_vacc_fi
> rst liver_trans, ///
>      tvc(udca severe_disease covid_vacc_first liver_trans /*age_tv*/) dftvc(1
> ) df(1) scale(hazard) eform
 13.    
.     summ _t
 14.     local tmax=r(max)
 15.     local tmaxplus1=r(max)+1
 16. 
.     range days 0 `tmax' `tmaxplus1'
 17.     stpm2_standsurv if udca == 1, at1(udca 0) at2(udca 1) timevar(days) ci
>  contrast(difference) fail
 18. 
.     gen date = d(1/3/2020)+ days
 19.     format date %tddd_Month
 20. 
.     for var _at1 _at2 _at1_lci _at1_uci _at2_lci _at2_uci _contrast2_1 _contr
> ast2_1_lci _contrast2_1_uci: replace X=100*X
 21. 
.     *cumulative mortality at last day of follow-up
.     list _at1* if days==`tmax', noobs
 22.     list _at2* if days==`tmax', noobs
 23.     list _contrast* if days==`tmax', noobs
 24. 
.     *l date days _at1 _at1_lci _at1_uci _at2 _at2_lci _at2_uci if days<.
. 
.     twoway  (rarea _at1_lci _at1_uci days, color(red%25)) ///
>                     (rarea _at2_lci _at2_uci days, color(blue%25)) ///
>                     (line _at1 days, sort lcolor(red)) ///
>                     (line _at2 days, sort lcolor(blue) lpattern(dash)) ///
>                     , legend(order(1 "No UDCA" 2 "UDCA") ring(0) cols(1) pos(
> 11) region(lwidth(none))) ///
>                     title("Time to `outcome'", justification(left) size(med) 
> )             ///
>                     yscale(range(0, 1))                                      
>                                                    ///
>                     ylabel(0 (1) 10, angle(0) format(%4.1f) labsize(small))  
>    ///
>                     xlabel(0 (200) 1035, labsize(small))                     
>                                            ///                     
>                     ytitle("Cumulative outcomes (%)", size(medsmall)) ///
>                     xtitle("Days since 1 Mar 2020", size(medsmall))          
>            ///
>                     graphregion(fcolor(white)) saving(adjcurv_f_`outcome', re
> place)
 25. 
.     graph export "./output/graphs/adjcurv_f_`outcome'.svg", as(svg) replace
 26. 
.     * Close window 
.     graph close
 27. 
. }

Contains data from ./output/an_dataset_hosp_any.dta
  obs:         2,870                          
 vars:            18                          22 Aug 2023 08:39
-------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
stp             str4    %9s                   
imd             byte    %8.0g                 
ethnicity       byte    %8.0g      eth5       
patient_id      int     %8.0g                 
male            float   %9.0g                 
eth_bin         float   %9.0g      eth2       
bmi_cat         float   %14.0g     bmi        
smoking         float   %14.0g     smok       
any_high_risk~n float   %9.0g                 
start           float   %9.0g                 
stop            float   %9.0g                 
hosp_any_flag   float   %9.0g                 
age_tv          float   %9.0g                 
udca            float   %9.0g                 
liver_trans     float   %9.0g                 
covid_vacc_fi~t float   %9.0g                 
severe_disease  float   %9.0g                 
total_hosp      float   %9.0g                 
-------------------------------------------------------------------------------
Sorted by: 

                id:  patient_id
     failure event:  hosp_any_flag != 0 & hosp_any_flag < .
obs. time interval:  (stop[_n-1], stop]
 enter on or after:  time index_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time index_date

------------------------------------------------------------------------------
      2,870  total observations
          0  exclusions
------------------------------------------------------------------------------
      2,870  observations remaining, representing
      1,000  subjects
         58  failures in single-failure-per-subject data
    630,402  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =     1,035

        imd |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        605       21.08       21.08
          2 |        565       19.69       40.77
          3 |        505       17.60       58.36
          4 |        574       20.00       78.36
          5 |        455       15.85       94.22
          6 |        166        5.78      100.00
------------+-----------------------------------
      Total |      2,870      100.00

       bmi_cat |      Freq.     Percent        Cum.
---------------+-----------------------------------
   Underweight |        199        6.93        6.93
 Healthy range |      1,135       39.55       46.48
    Overweight |        565       19.69       66.17
         Obese |        785       27.35       93.52
Morbidly obese |        186        6.48      100.00
---------------+-----------------------------------
         Total |      2,870      100.00

       smoking |      Freq.     Percent        Cum.
---------------+-----------------------------------
  Never smoked |        277        9.65        9.65
Current smoker |      2,103       73.28       82.93
     Ex-smoker |        490       17.07      100.00
---------------+-----------------------------------
         Total |      2,870      100.00

       udca |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,582       89.97       89.97
          1 |        288       10.03      100.00
------------+-----------------------------------
      Total |      2,870      100.00

       male |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,398       48.71       48.71
          1 |      1,441       50.21       98.92
          . |         31        1.08      100.00
------------+-----------------------------------
      Total |      2,870      100.00

any_high_ri |
sk_conditio |
          n |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      2,870      100.00      100.00
------------+-----------------------------------
      Total |      2,870      100.00

    eth_bin |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        407       14.18       14.18
          1 |      2,463       85.82      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     1.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,265       78.92       78.92
          1 |        605       21.08      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     2.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,305       80.31       80.31
          1 |        565       19.69      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     3.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,365       82.40       82.40
          1 |        505       17.60      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     4.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,296       80.00       80.00
          1 |        574       20.00      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     5.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,415       84.15       84.15
          1 |        455       15.85      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Un |
  derweight |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,671       93.07       93.07
          1 |        199        6.93      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==He |
althy range |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,735       60.45       60.45
          1 |      1,135       39.55      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Ov |
   erweight |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,305       80.31       80.31
          1 |        565       19.69      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Ob |
        ese |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,085       72.65       72.65
          1 |        785       27.35      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Mo |
     rbidly |
      obese |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,684       93.52       93.52
          1 |        186        6.48      100.00
------------+-----------------------------------
      Total |      2,870      100.00

smoking==Ne |
 ver smoked |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,593       90.35       90.35
          1 |        277        9.65      100.00
------------+-----------------------------------
      Total |      2,870      100.00

smoking==Cu |
      rrent |
     smoker |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        767       26.72       26.72
          1 |      2,103       73.28      100.00
------------+-----------------------------------
      Total |      2,870      100.00

smoking==Ex |
    -smoker |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,380       82.93       82.93
          1 |        490       17.07      100.00
------------+-----------------------------------
      Total |      2,870      100.00

severe_dise |
        ase |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,130       39.37       39.37
          1 |      1,740       60.63      100.00
------------+-----------------------------------
      Total |      2,870      100.00

covid_vacc_ |
      first |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,335       81.36       81.36
          1 |        535       18.64      100.00
------------+-----------------------------------
      Total |      2,870      100.00

liver_trans |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,846       99.16       99.16
          1 |         24        0.84      100.00
------------+-----------------------------------
      Total |      2,870      100.00
note: delayed entry models are being fitted
note: any_high_risk_condition omitted because of collinearity
note: bmi_cat5 omitted because of collinearity
note: smoking3 omitted because of collinearity

Iteration 0:   log likelihood =  -255.9853  (not concave)
Iteration 1:   log likelihood = -254.63118  (not concave)
Iteration 2:   log likelihood = -254.04462  (not concave)
Iteration 3:   log likelihood = -253.72535  (not concave)
Iteration 4:   log likelihood = -253.45616  (not concave)
Iteration 5:   log likelihood = -253.22374  (not concave)
Iteration 6:   log likelihood =  -253.0526  (not concave)
Iteration 7:   log likelihood =  -252.9176  (not concave)
Iteration 8:   log likelihood = -252.79699  (not concave)
Iteration 9:   log likelihood = -252.67958  (not concave)
Iteration 10:  log likelihood = -252.58141  (not concave)
Iteration 11:  log likelihood = -252.49371  (not concave)
Iteration 12:  log likelihood = -252.41002  (not concave)
Iteration 13:  log likelihood = -252.33452  (not concave)
Iteration 14:  log likelihood = -252.26477  (not concave)
Iteration 15:  log likelihood = -252.19976  (not concave)
Iteration 16:  log likelihood = -252.13923  (not concave)
Iteration 17:  log likelihood = -252.08304  (not concave)
Iteration 18:  log likelihood = -252.03026  (not concave)
Iteration 19:  log likelihood = -251.98093  (not concave)
Iteration 20:  log likelihood = -251.93449  (not concave)
Iteration 21:  log likelihood = -251.89092  (not concave)
Iteration 22:  log likelihood = -251.84972  (not concave)
Iteration 23:  log likelihood = -251.81093  (not concave)
Iteration 24:  log likelihood = -251.77414  (not concave)
Iteration 25:  log likelihood = -251.73938  (not concave)
Iteration 26:  log likelihood = -251.70632  (not concave)
Iteration 27:  log likelihood = -251.67499  (not concave)
Iteration 28:  log likelihood = -251.64512  (not concave)
Iteration 29:  log likelihood = -251.61674  (not concave)
Iteration 30:  log likelihood = -251.58962  (not concave)
Iteration 31:  log likelihood = -251.56378  (not concave)
Iteration 32:  log likelihood = -251.53904  (not concave)
Iteration 33:  log likelihood = -251.51542  (not concave)
Iteration 34:  log likelihood = -251.49276  (not concave)
Iteration 35:  log likelihood = -251.47108  (not concave)
Iteration 36:  log likelihood = -251.45024  (not concave)
Iteration 37:  log likelihood = -251.43027  (not concave)
Iteration 38:  log likelihood = -251.41105  (not concave)
Iteration 39:  log likelihood =  -251.3926  (not concave)
Iteration 40:  log likelihood = -251.37481  (not concave)
Iteration 41:  log likelihood = -251.35771  (not concave)
Iteration 42:  log likelihood = -251.35227  (not concave)
Iteration 43:  log likelihood = -251.34954  (not concave)
Iteration 44:  log likelihood = -251.26596  (not concave)
Iteration 45:  log likelihood = -251.22368  (not concave)
Iteration 46:  log likelihood = -251.21981  (not concave)
Iteration 47:  log likelihood = -251.21804  (not concave)
Iteration 48:  log likelihood = -251.21652  (not concave)
Iteration 49:  log likelihood = -251.21488  (not concave)
Iteration 50:  log likelihood = -251.21206  (not concave)
Iteration 51:  log likelihood = -251.20233  (not concave)
Iteration 52:  log likelihood = -251.19419  (not concave)
Iteration 53:  log likelihood = -251.00293  (not concave)
Iteration 54:  log likelihood = -250.88253  (not concave)
Iteration 55:  log likelihood = -250.87597  (not concave)
Iteration 56:  log likelihood = -250.87531  (not concave)
Iteration 57:  log likelihood = -250.87472  (not concave)
Iteration 58:  log likelihood =  -250.8735  (not concave)
Iteration 59:  log likelihood = -250.87284  (not concave)
Iteration 60:  log likelihood = -250.87239  (not concave)
Iteration 61:  log likelihood = -250.87198  (not concave)
Iteration 62:  log likelihood = -250.87147  (not concave)
Iteration 63:  log likelihood = -250.87074  (not concave)
Iteration 64:  log likelihood = -250.87027  (not concave)
Iteration 65:  log likelihood = -250.86967  (not concave)
Iteration 66:  log likelihood = -250.86925  (not concave)
Iteration 67:  log likelihood = -250.86884  (not concave)
Iteration 68:  log likelihood = -250.86687  (not concave)
Iteration 69:  log likelihood = -250.86361  (not concave)
Iteration 70:  log likelihood = -250.78861  (not concave)
Iteration 71:  log likelihood = -250.72633  (not concave)
Iteration 72:  log likelihood = -250.72607  (not concave)
Iteration 73:  log likelihood = -250.72581  (not concave)
Iteration 74:  log likelihood = -250.72368  (not concave)
Iteration 75:  log likelihood =  -250.7232  (not concave)
Iteration 76:  log likelihood = -250.72132  (not concave)
Iteration 77:  log likelihood = -250.72092  (not concave)
Iteration 78:  log likelihood = -250.72051  (not concave)
Iteration 79:  log likelihood = -250.72029  (not concave)
Iteration 80:  log likelihood = -250.71701  (not concave)
Iteration 81:  log likelihood = -250.71614  (not concave)
Iteration 82:  log likelihood = -250.71568  (not concave)
Iteration 83:  log likelihood = -250.71537  (not concave)
Iteration 84:  log likelihood = -250.71508  (not concave)
Iteration 85:  log likelihood = -250.71453  (not concave)
Iteration 86:  log likelihood = -250.71424  (not concave)
Iteration 87:  log likelihood = -250.71381  (not concave)
Iteration 88:  log likelihood = -250.71338  (not concave)
Iteration 89:  log likelihood = -250.71317  (not concave)
Iteration 90:  log likelihood =   -250.713  (not concave)
Iteration 91:  log likelihood = -250.71283  (not concave)
Iteration 92:  log likelihood = -250.71267  (not concave)
Iteration 93:  log likelihood =  -250.7125  (not concave)
Iteration 94:  log likelihood = -250.71233  (not concave)
Iteration 95:  log likelihood = -250.71217  (not concave)
Iteration 96:  log likelihood =   -250.712  (not concave)
Iteration 97:  log likelihood = -250.71184  (not concave)
Iteration 98:  log likelihood = -250.71167  (not concave)
Iteration 99:  log likelihood = -250.71151  (not concave)
Iteration 100: log likelihood = -250.71134  (not concave)
Iteration 101: log likelihood = -250.71118  (not concave)
Iteration 102: log likelihood = -250.71102  (not concave)
Iteration 103: log likelihood = -250.71085  (not concave)
Iteration 104: log likelihood = -250.71069  (not concave)
Iteration 105: log likelihood = -250.71053  (not concave)
Iteration 106: log likelihood = -250.71036  (not concave)
Iteration 107: log likelihood =  -250.7102  (not concave)
Iteration 108: log likelihood = -250.71004  (not concave)
Iteration 109: log likelihood = -250.70988  (not concave)
Iteration 110: log likelihood = -250.70971  (not concave)
Iteration 111: log likelihood = -250.70955  (not concave)
Iteration 112: log likelihood = -250.70939  (not concave)
Iteration 113: log likelihood = -250.70923  (not concave)
Iteration 114: log likelihood = -250.70907  (not concave)
Iteration 115: log likelihood =  -250.7089  (not concave)
Iteration 116: log likelihood = -250.70874  (not concave)
Iteration 117: log likelihood = -250.70858  (not concave)
Iteration 118: log likelihood = -250.70842  (not concave)
Iteration 119: log likelihood = -250.70826  (not concave)
Iteration 120: log likelihood =  -250.7081  (not concave)
Iteration 121: log likelihood = -250.70794  (not concave)
Iteration 122: log likelihood = -250.70778  (not concave)
Iteration 123: log likelihood = -250.70762  (not concave)
Iteration 124: log likelihood = -250.70746  (not concave)
Iteration 125: log likelihood =  -250.7073  (not concave)
Iteration 126: log likelihood = -250.70714  (not concave)
Iteration 127: log likelihood = -250.70699  (not concave)
Iteration 128: log likelihood = -250.70683  (not concave)
Iteration 129: log likelihood = -250.70667  (not concave)
Iteration 130: log likelihood = -250.70651  (not concave)
Iteration 131: log likelihood = -250.70635  (not concave)
Iteration 132: log likelihood = -250.70619  (not concave)
Iteration 133: log likelihood = -250.70604  (not concave)
Iteration 134: log likelihood = -250.70588  (not concave)
Iteration 135: log likelihood = -250.70572  (not concave)
Iteration 136: log likelihood = -250.70556  (not concave)
Iteration 137: log likelihood = -250.70541  (not concave)
Iteration 138: log likelihood = -250.70525  (not concave)
Iteration 139: log likelihood = -250.70509  (not concave)
Iteration 140: log likelihood = -250.70494  (not concave)
Iteration 141: log likelihood = -250.70478  (not concave)
Iteration 142: log likelihood = -250.70463  (not concave)
Iteration 143: log likelihood = -250.70447  (not concave)
Iteration 144: log likelihood = -250.70432  (not concave)
Iteration 145: log likelihood = -250.70416  (not concave)
Iteration 146: log likelihood =   -250.704  (not concave)
Iteration 147: log likelihood = -250.70385  (not concave)
Iteration 148: log likelihood = -250.70369  (not concave)
Iteration 149: log likelihood = -250.70354  (not concave)
Iteration 150: log likelihood = -250.70339  (not concave)
Iteration 151: log likelihood = -250.70323  (not concave)
Iteration 152: log likelihood = -250.70308  (not concave)
Iteration 153: log likelihood = -250.70292  (not concave)
Iteration 154: log likelihood = -250.70277  (not concave)
Iteration 155: log likelihood = -250.70262  (not concave)
Iteration 156: log likelihood = -250.70246  (not concave)
Iteration 157: log likelihood = -250.70231  (not concave)
Iteration 158: log likelihood = -250.70216  (not concave)
Iteration 159: log likelihood =   -250.702  (not concave)
Iteration 160: log likelihood = -250.70185  (not concave)
Iteration 161: log likelihood =  -250.7017  (not concave)
Iteration 162: log likelihood = -250.70155  (not concave)
Iteration 163: log likelihood =  -250.7014  (not concave)
Iteration 164: log likelihood = -250.70124  (not concave)
Iteration 165: log likelihood = -250.70109  (not concave)
Iteration 166: log likelihood = -250.70094  (not concave)
Iteration 167: log likelihood = -250.70079  (not concave)
Iteration 168: log likelihood = -250.70064  (not concave)
Iteration 169: log likelihood = -250.70049  (not concave)
Iteration 170: log likelihood = -250.70034  (not concave)
Iteration 171: log likelihood = -250.70019  (not concave)
Iteration 172: log likelihood = -250.70004  (not concave)
Iteration 173: log likelihood = -250.69989  (not concave)
Iteration 174: log likelihood = -250.69974  (not concave)
Iteration 175: log likelihood = -250.69959  (not concave)
Iteration 176: log likelihood = -250.69944  (not concave)
Iteration 177: log likelihood = -250.69929  (not concave)
Iteration 178: log likelihood = -250.69914  (not concave)
Iteration 179: log likelihood = -250.69899  (not concave)
Iteration 180: log likelihood = -250.69884  (not concave)
Iteration 181: log likelihood = -250.69869  (not concave)
Iteration 182: log likelihood = -250.69854  (not concave)
Iteration 183: log likelihood = -250.69839  (not concave)
Iteration 184: log likelihood = -250.69825  (not concave)
Iteration 185: log likelihood =  -250.6981  (not concave)
Iteration 186: log likelihood = -250.69795  (not concave)
Iteration 187: log likelihood =  -250.6978  (not concave)
Iteration 188: log likelihood = -250.69766  (not concave)
Iteration 189: log likelihood = -250.69751  (not concave)
Iteration 190: log likelihood = -250.69736  (not concave)
Iteration 191: log likelihood = -250.69721  (not concave)
Iteration 192: log likelihood = -250.69707  (not concave)
Iteration 193: log likelihood = -250.69692  (not concave)
Iteration 194: log likelihood = -250.69677  (not concave)
Iteration 195: log likelihood = -250.69663  (not concave)
Iteration 196: log likelihood = -250.69648  (not concave)
Iteration 197: log likelihood = -250.69634  (not concave)
Iteration 198: log likelihood = -250.69619  (not concave)
Iteration 199: log likelihood = -250.69604  (not concave)
Iteration 200: log likelihood =  -250.6959  (not concave)
Iteration 201: log likelihood = -250.69575  (not concave)
Iteration 202: log likelihood = -250.69561  (not concave)
Iteration 203: log likelihood = -250.69546  (not concave)
Iteration 204: log likelihood = -250.69532  (not concave)
Iteration 205: log likelihood = -250.69518  (not concave)
Iteration 206: log likelihood = -250.69503  (not concave)
Iteration 207: log likelihood = -250.69489  (not concave)
Iteration 208: log likelihood = -250.69474  (not concave)
Iteration 209: log likelihood =  -250.6946  (not concave)
Iteration 210: log likelihood = -250.69446  (not concave)
Iteration 211: log likelihood = -250.69431  (not concave)
Iteration 212: log likelihood = -250.69417  (not concave)
Iteration 213: log likelihood = -250.69403  (not concave)
Iteration 214: log likelihood = -250.69388  (not concave)
Iteration 215: log likelihood = -250.69374  (not concave)
Iteration 216: log likelihood =  -250.6936  (not concave)
Iteration 217: log likelihood = -250.69345  (not concave)
Iteration 218: log likelihood = -250.69331  (not concave)
Iteration 219: log likelihood = -250.69317  (not concave)
Iteration 220: log likelihood = -250.69303  (not concave)
Iteration 221: log likelihood = -250.69289  (not concave)
Iteration 222: log likelihood = -250.69274  (not concave)
Iteration 223: log likelihood =  -250.6926  (not concave)
Iteration 224: log likelihood = -250.69246  (not concave)
Iteration 225: log likelihood = -250.69232  (not concave)
Iteration 226: log likelihood = -250.69218  (not concave)
Iteration 227: log likelihood = -250.69204  (not concave)
Iteration 228: log likelihood =  -250.6919  (not concave)
Iteration 229: log likelihood = -250.69176  (not concave)
Iteration 230: log likelihood = -250.69162  (not concave)
Iteration 231: log likelihood = -250.69148  (not concave)
Iteration 232: log likelihood = -250.69134  (not concave)
Iteration 233: log likelihood =  -250.6912  (not concave)
Iteration 234: log likelihood = -250.69106  (not concave)
Iteration 235: log likelihood = -250.69092  (not concave)
Iteration 236: log likelihood = -250.69078  (not concave)
Iteration 237: log likelihood = -250.69064  (not concave)
Iteration 238: log likelihood =  -250.6905  (not concave)
Iteration 239: log likelihood = -250.69036  (not concave)
Iteration 240: log likelihood = -250.69022  (not concave)
Iteration 241: log likelihood = -250.69008  (not concave)
Iteration 242: log likelihood = -250.68995  (not concave)
Iteration 243: log likelihood = -250.68981  (not concave)
Iteration 244: log likelihood = -250.68967  (not concave)
Iteration 245: log likelihood = -250.68953  (not concave)
Iteration 246: log likelihood = -250.68939  (not concave)
Iteration 247: log likelihood = -250.68926  (not concave)
Iteration 248: log likelihood = -250.68912  (not concave)
Iteration 249: log likelihood = -250.68898  (not concave)
Iteration 250: log likelihood = -250.68884  (not concave)
Iteration 251: log likelihood = -250.68871  (not concave)
Iteration 252: log likelihood = -250.68857  (not concave)
Iteration 253: log likelihood = -250.68843  (not concave)
Iteration 254: log likelihood =  -250.6883  (not concave)
Iteration 255: log likelihood = -250.68816  (not concave)
Iteration 256: log likelihood = -250.68803  (not concave)
Iteration 257: log likelihood = -250.68789  (not concave)
Iteration 258: log likelihood = -250.68775  (not concave)
Iteration 259: log likelihood = -250.68762  (not concave)
Iteration 260: log likelihood = -250.68748  (not concave)
Iteration 261: log likelihood = -250.68735  (not concave)
Iteration 262: log likelihood = -250.68721  (not concave)
Iteration 263: log likelihood = -250.68708  (not concave)
Iteration 264: log likelihood = -250.68694  (not concave)
Iteration 265: log likelihood = -250.68681  (not concave)
Iteration 266: log likelihood = -250.68667  (not concave)
Iteration 267: log likelihood = -250.68654  (not concave)
Iteration 268: log likelihood =  -250.6864  (not concave)
Iteration 269: log likelihood = -250.68627  (not concave)
Iteration 270: log likelihood = -250.68614  (not concave)
Iteration 271: log likelihood =   -250.686  (not concave)
Iteration 272: log likelihood = -250.68587  (not concave)
Iteration 273: log likelihood = -250.68573  (not concave)
Iteration 274: log likelihood =  -250.6856  (not concave)
Iteration 275: log likelihood = -250.68547  (not concave)
Iteration 276: log likelihood = -250.68533  (not concave)
Iteration 277: log likelihood =  -250.6852  (not concave)
Iteration 278: log likelihood = -250.68507  (not concave)
Iteration 279: log likelihood = -250.68494  (not concave)
Iteration 280: log likelihood =  -250.6848  (not concave)
Iteration 281: log likelihood = -250.68467  (not concave)
Iteration 282: log likelihood = -250.68454  (not concave)
Iteration 283: log likelihood = -250.68441  (not concave)
Iteration 284: log likelihood = -250.68428  (not concave)
Iteration 285: log likelihood = -250.68414  (not concave)
Iteration 286: log likelihood = -250.68401  (not concave)
Iteration 287: log likelihood = -250.68388  (not concave)
Iteration 288: log likelihood = -250.68375  (not concave)
Iteration 289: log likelihood = -250.68362  (not concave)
Iteration 290: log likelihood = -250.68349  (not concave)
Iteration 291: log likelihood = -250.68336  (not concave)
Iteration 292: log likelihood = -250.68323  (not concave)
Iteration 293: log likelihood =  -250.6831  (not concave)
Iteration 294: log likelihood = -250.68297  (not concave)
Iteration 295: log likelihood = -250.68283  (not concave)
Iteration 296: log likelihood =  -250.6827  (not concave)
Iteration 297: log likelihood = -250.68257  (not concave)
Iteration 298: log likelihood = -250.68244  (not concave)
Iteration 299: log likelihood = -250.68232  (not concave)
Iteration 300: log likelihood = -250.68219  (not concave)
convergence not achieved

Log likelihood = -250.68219                     Number of obs     =      2,839

------------------------------------------------------------------------------
             |     exp(b)   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
xb           |
        udca |   .8661286   .5151129    -0.24   0.809     .2699896    2.778547
        male |   1.097832   .2921997     0.35   0.726     .6515974    1.849661
any_high_r~n |          1  (omitted)
     eth_bin |   1.269919   .5156375     0.59   0.556     .5729994    2.814476
        imd1 |   7.226812   15.45403     0.92   0.355     .1093232    477.7284
        imd2 |   16.80705   35.64772     1.33   0.183     .2630845    1073.712
        imd3 |   12.30675   26.22162     1.18   0.239     .1890226    801.2589
        imd4 |   18.32407   38.82656     1.37   0.170     .2880222    1165.784
        imd5 |   16.54713   35.15163     1.32   0.187     .2573276    1064.043
    bmi_cat1 |   4.001696   4.295189     1.29   0.196     .4882179    32.80006
    bmi_cat2 |   3.987516   3.972404     1.39   0.165     .5658833    28.09817
    bmi_cat3 |   2.151874   2.253054     0.73   0.464     .2764343    16.75103
    bmi_cat4 |   4.201243     4.2054     1.43   0.152     .5906552    29.88282
    bmi_cat5 |          1  (omitted)
    smoking1 |   .6774329   .4043551    -0.65   0.514     .2102761    2.182442
    smoking2 |   .9501804   .3366827    -0.14   0.885     .4744551    1.902905
    smoking3 |          1  (omitted)
severe_dis~e |   .7999251   .2594819    -0.69   0.491     .4235788    1.510652
covid_vacc~t |   1.031985   1.793307     0.02   0.986     .0342388    31.10485
 liver_trans |   9.1e-137  (constrained)
       _rcs1 |   3.663932   .8536014     5.57   0.000     2.320809     5.78436
  _rcs_udca1 |   .9637116   .5234058    -0.07   0.946     .3323894    2.794133
_rcs_sever~1 |   .8735048   .2586548    -0.46   0.648     .4888941    1.560687
_rcs_covid~1 |   1.130987   1.418872     0.10   0.922     .0967361     13.2229
_rcs_liver~1 |    .590476   .7442837    -0.42   0.676     .0499205    6.984342
       _cons |   .0006629   .0015749    -3.08   0.002     6.30e-06    .0697764
------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.
convergence not achieved
r(430);

end of do-file
r(430);

end of do-file

r(430);


