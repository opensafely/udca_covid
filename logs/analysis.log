
. * Open file to write results to 
. file open tablecontent using ./output/tables/cum_incidence.txt, write text re
> place
(note: file ./output/tables/cum_incidence.txt not found)

. file write tablecontent ("Outcome") _tab ("Exposure") _tab ("Cumulative incid
> ence") _tab ("95% confidence interval") _n

. 
. 
. /* plot for each outcome - age and sex adjusted only
> foreach outcome in hosp_any composite_any {
>     use ./output/an_dataset_`outcome', clear 
>     describe
>     gen index_date = date("01/03/2020", "DMY")
>     stset stop, fail(`outcome'_flag) id(patient_id) enter(index_date) origin(
> index_date)
> 
>     * Add cumulative incidence plots 
>     * Not stratifying by stp as cannot use tvc and stratify  
>     
>     * Age and sex adjusted model 
>     * Setting df (degrees of freedom for restricted cubic splines) as 3 as th
> is is default 
>     * Setting dftvc (degrees of freedom for time-dependent effects) as 1 = li
> near effect of log time 
>     stpm2 udca age_tv male, tvc(udca) dftvc(1) df(3) scale(hazard) eform
>     summ _t
>     local tmax=r(max)
>     local tmaxplus1=r(max)+1
> 
>     range days 0 `tmax' `tmaxplus1'
>     stpm2_standsurv if udca == 1, at1(udca 0) at2(udca 1) timevar(days) ci co
> ntrast(difference) fail
> 
>     gen date = d(1/3/2020)+ days
>     format date %tddd_Month
> 
>     for var _at1 _at2 _at1_lci _at1_uci _at2_lci _at2_uci _contrast2_1 _contr
> ast2_1_lci _contrast2_1_uci: replace X=100*X
> 
>     *cumulative mortality at last day of follow-up - write to file 
>     file write tablecontent ("`outcome'") _tab ("No UDCA") _tab  
>     * cumulative outcome - no UDCA 
>     sum _at1 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
>     * cumulative outcome - UDCA 
>     file write tablecontent ("`outcome'") _tab ("UDCA") _tab  
>     sum _at2 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
>     
>     *l date days _at1 _at1_lci _at1_uci _at2 _at2_lci _at2_uci if days<.
> 
>     twoway  (rarea _at1_lci _at1_uci days, color(red%25)) ///
>                     (rarea _at2_lci _at2_uci days, color(blue%25)) ///
>                     (line _at1 days, sort lcolor(red)) ///
>                     (line _at2 days, sort lcolor(blue) lpattern(dash)) ///
>                     , legend(order(1 "No UDCA" 2 "UDCA") ring(0) cols(1) pos(
> 11) region(lwidth(none))) ///
>                     title("Time to `outcome'", justification(left) size(med) 
> )             ///
>                     yscale(range(0, 1))                                      
>                                                    ///
>                     ylabel(0 (1) 10, angle(0) format(%4.1f) labsize(small))  
>    ///
>                     xlabel(0 (200) 1035, labsize(small))                     
>                                            ///                     
>                     ytitle("Cumulative outcomes (%)", size(medsmall)) ///
>                     xtitle("Days since 1 Mar 2020", size(medsmall))          
>            ///
>                     graphregion(fcolor(white)) saving(adjcurv_`outcome', repl
> ace)
> 
>     graph export "./output/graphs/adjcurv_`outcome'.svg", as(svg) replace
> 
>     * Close window 
>     graph close
> 
> }
> 
> use ./output/an_dataset_died_covid_any, clear 
>     describe
>     gen index_date = date("01/03/2020", "DMY")
>     stset stop, fail(died_covid_any_flag) id(patient_id) enter(index_date) or
> igin(index_date)
> 
>     * Add cumulative incidence plots 
>     * Not stratifying by stp as cannot use tvc and stratify 
>     
>     * Age and sex adjusted model 
>     * Setting df (degrees of freedom for restricted cubic splines) as 3 as th
> is is default 
>     * Setting dftvc (degrees of freedom for time-dependent effects) as 1 = li
> near effect of log time 
>     stpm2 udca age_tv male, tvc(udca) dftvc(1) df(3) scale(hazard) eform
>     summ _t
>     local tmax=r(max)
>     local tmaxplus1=r(max)+1
> 
>     range days 0 `tmax' `tmaxplus1'
>     stpm2_standsurv if udca == 1, at1(udca 0) at2(udca 1) timevar(days) ci co
> ntrast(difference) fail
> 
>     gen date = d(1/3/2020)+ days
>     format date %tddd_Month
> 
>     for var _at1 _at2 _at1_lci _at1_uci _at2_lci _at2_uci _contrast2_1 _contr
> ast2_1_lci _contrast2_1_uci: replace X=100*X
> 
>     *cumulative mortality at last day of follow-up - write to file 
>     file write tablecontent ("Death") _tab ("No UDCA") _tab  
>     * cumulative outcome - no UDCA 
>     sum _at1 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at1_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
>     * cumulative outcome - UDCA 
>     file write tablecontent ("Death") _tab ("UDCA") _tab  
>     sum _at2 if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_lci if days==`tmax'
>     file write tablecontent (r(mean)) _tab 
>     sum _at2_uci if days==`tmax'
>     file write tablecontent (r(mean)) _tab _n 
> 
>     *l date days _at1 _at1_lci _at1_uci _at2 _at2_lci _at2_uci if days<.
> 
>     twoway  (rarea _at1_lci _at1_uci days, color(red%25)) ///
>                     (rarea _at2_lci _at2_uci days, color(blue%25)) ///
>                     (line _at1 days, sort lcolor(red)) ///
>                     (line _at2 days, sort lcolor(blue) lpattern(dash)) ///
>                     , legend(order(1 "No UDCA" 2 "UDCA") ring(0) cols(1) pos(
> 11) region(lwidth(none))) ///
>                     title("Time to COVID-19 death", justification(left) size(
> med) )        ///
>                     yscale(range(0, 1))                                      
>                                                    ///
>                     ylabel(0 (0.2) 2, angle(0) format(%4.1f) labsize(small)) 
>    ///
>                     xlabel(0 (200) 1035, labsize(small))                     
>                                            ///                     
>                     ytitle("Cumulative mortality (%)", size(medsmall)) ///
>                     xtitle("Days since 1 Mar 2020", size(medsmall))          
>            ///
>                     graphregion(fcolor(white)) saving(adjcurv_`outcome', repl
> ace)
> 
>     graph export "./output/graphs/adjcurv_died_covid_any.svg", as(svg) replac
> e
> 
>     * Close window 
>     graph close
>     */
. 
. * plot for each outcome - fully adjusted 
. foreach outcome in hosp_any composite_any {
  2.     use ./output/an_dataset_`outcome', clear 
  3.     describe
  4.     gen index_date = date("01/03/2020", "DMY")
  5.     stset stop, fail(`outcome'_flag) id(patient_id) enter(index_date) orig
> in(index_date)
  6. 
.     * Add cumulative incidence plots 
.     * Not stratifying by stp as cannot use tvc and stratify 
.     * Fully adjusted model (though not including wave as not right in main mo
> del)
.     * Setting df (degrees of freedom for restricted cubic splines) as 3 as th
> is is default 
.     * Setting dftvc (degrees of freedom for time-dependent effects) as 1 = li
> near effect of log time
.     * stpm2_standsurv cannot use factor variables so creating dummy variables
> :
.     tab imd, gen(imd) 
  7.     tab bmi_cat, gen(bmi_cat)
  8.     tab smoking, gen(smoking)
  9.     * Check all binary 
.     foreach vars in udca male any_high_risk_condition eth_bin imd1 imd2 imd3 
> imd4 imd5 bmi_cat1 bmi_cat2 bmi_cat3 ///
>     bmi_cat4 bmi_cat5 smoking1 smoking2 smoking3 severe_disease covid_vacc_fi
> rst liver_trans {
 10.         tab `vars', m nolabel
 11.     } 
 12.     stpm2 udca male age_tv any_high_risk_condition eth_bin imd1 imd2 imd3 
> imd4 imd5 bmi_cat1 bmi_cat2 bmi_cat3 ///
>     bmi_cat4 bmi_cat5 smoking1 smoking2 smoking3 severe_disease covid_vacc_fi
> rst liver_trans, ///
>      tvc(udca severe_disease covid_vacc_first liver_trans age_tv) dftvc(1) df
> (1) scale(hazard) eform
 13.    
.     summ _t
 14.     local tmax=r(max)
 15.     local tmaxplus1=r(max)+1
 16. 
.     range days 0 `tmax' `tmaxplus1'
 17.     stpm2_standsurv if udca == 1, at1(udca 0) at2(udca 1) timevar(days) ci
>  contrast(difference) fail
 18. 
.     gen date = d(1/3/2020)+ days
 19.     format date %tddd_Month
 20. 
.     for var _at1 _at2 _at1_lci _at1_uci _at2_lci _at2_uci _contrast2_1 _contr
> ast2_1_lci _contrast2_1_uci: replace X=100*X
 21. 
.     *cumulative mortality at last day of follow-up
.     list _at1* if days==`tmax', noobs
 22.     list _at2* if days==`tmax', noobs
 23.     list _contrast* if days==`tmax', noobs
 24. 
.     *l date days _at1 _at1_lci _at1_uci _at2 _at2_lci _at2_uci if days<.
. 
.     twoway  (rarea _at1_lci _at1_uci days, color(red%25)) ///
>                     (rarea _at2_lci _at2_uci days, color(blue%25)) ///
>                     (line _at1 days, sort lcolor(red)) ///
>                     (line _at2 days, sort lcolor(blue) lpattern(dash)) ///
>                     , legend(order(1 "No UDCA" 2 "UDCA") ring(0) cols(1) pos(
> 11) region(lwidth(none))) ///
>                     title("Time to `outcome'", justification(left) size(med) 
> )             ///
>                     yscale(range(0, 1))                                      
>                                                    ///
>                     ylabel(0 (1) 10, angle(0) format(%4.1f) labsize(small))  
>    ///
>                     xlabel(0 (200) 1035, labsize(small))                     
>                                            ///                     
>                     ytitle("Cumulative outcomes (%)", size(medsmall)) ///
>                     xtitle("Days since 1 Mar 2020", size(medsmall))          
>            ///
>                     graphregion(fcolor(white)) saving(adjcurv_f_`outcome', re
> place)
 25. 
.     graph export "./output/graphs/adjcurv_f_`outcome'.svg", as(svg) replace
 26. 
.     * Close window 
.     graph close
 27. 
. }

Contains data from ./output/an_dataset_hosp_any.dta
  obs:         2,870                          
 vars:            18                          22 Aug 2023 08:39
-------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
stp             str4    %9s                   
imd             byte    %8.0g                 
ethnicity       byte    %8.0g      eth5       
patient_id      int     %8.0g                 
male            float   %9.0g                 
eth_bin         float   %9.0g      eth2       
bmi_cat         float   %14.0g     bmi        
smoking         float   %14.0g     smok       
any_high_risk~n float   %9.0g                 
start           float   %9.0g                 
stop            float   %9.0g                 
hosp_any_flag   float   %9.0g                 
age_tv          float   %9.0g                 
udca            float   %9.0g                 
liver_trans     float   %9.0g                 
covid_vacc_fi~t float   %9.0g                 
severe_disease  float   %9.0g                 
total_hosp      float   %9.0g                 
-------------------------------------------------------------------------------
Sorted by: 

                id:  patient_id
     failure event:  hosp_any_flag != 0 & hosp_any_flag < .
obs. time interval:  (stop[_n-1], stop]
 enter on or after:  time index_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time index_date

------------------------------------------------------------------------------
      2,870  total observations
          0  exclusions
------------------------------------------------------------------------------
      2,870  observations remaining, representing
      1,000  subjects
         58  failures in single-failure-per-subject data
    630,402  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =     1,035

        imd |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        605       21.08       21.08
          2 |        565       19.69       40.77
          3 |        505       17.60       58.36
          4 |        574       20.00       78.36
          5 |        455       15.85       94.22
          6 |        166        5.78      100.00
------------+-----------------------------------
      Total |      2,870      100.00

       bmi_cat |      Freq.     Percent        Cum.
---------------+-----------------------------------
   Underweight |        199        6.93        6.93
 Healthy range |      1,135       39.55       46.48
    Overweight |        565       19.69       66.17
         Obese |        785       27.35       93.52
Morbidly obese |        186        6.48      100.00
---------------+-----------------------------------
         Total |      2,870      100.00

       smoking |      Freq.     Percent        Cum.
---------------+-----------------------------------
  Never smoked |        277        9.65        9.65
Current smoker |      2,103       73.28       82.93
     Ex-smoker |        490       17.07      100.00
---------------+-----------------------------------
         Total |      2,870      100.00

       udca |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,582       89.97       89.97
          1 |        288       10.03      100.00
------------+-----------------------------------
      Total |      2,870      100.00

       male |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,398       48.71       48.71
          1 |      1,441       50.21       98.92
          . |         31        1.08      100.00
------------+-----------------------------------
      Total |      2,870      100.00

any_high_ri |
sk_conditio |
          n |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      2,870      100.00      100.00
------------+-----------------------------------
      Total |      2,870      100.00

    eth_bin |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        407       14.18       14.18
          1 |      2,463       85.82      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     1.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,265       78.92       78.92
          1 |        605       21.08      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     2.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,305       80.31       80.31
          1 |        565       19.69      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     3.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,365       82.40       82.40
          1 |        505       17.60      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     4.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,296       80.00       80.00
          1 |        574       20.00      100.00
------------+-----------------------------------
      Total |      2,870      100.00

      imd== |
     5.0000 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,415       84.15       84.15
          1 |        455       15.85      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Un |
  derweight |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,671       93.07       93.07
          1 |        199        6.93      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==He |
althy range |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,735       60.45       60.45
          1 |      1,135       39.55      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Ov |
   erweight |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,305       80.31       80.31
          1 |        565       19.69      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Ob |
        ese |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,085       72.65       72.65
          1 |        785       27.35      100.00
------------+-----------------------------------
      Total |      2,870      100.00

bmi_cat==Mo |
     rbidly |
      obese |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,684       93.52       93.52
          1 |        186        6.48      100.00
------------+-----------------------------------
      Total |      2,870      100.00

smoking==Ne |
 ver smoked |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,593       90.35       90.35
          1 |        277        9.65      100.00
------------+-----------------------------------
      Total |      2,870      100.00

smoking==Cu |
      rrent |
     smoker |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        767       26.72       26.72
          1 |      2,103       73.28      100.00
------------+-----------------------------------
      Total |      2,870      100.00

smoking==Ex |
    -smoker |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,380       82.93       82.93
          1 |        490       17.07      100.00
------------+-----------------------------------
      Total |      2,870      100.00

severe_dise |
        ase |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,130       39.37       39.37
          1 |      1,740       60.63      100.00
------------+-----------------------------------
      Total |      2,870      100.00

covid_vacc_ |
      first |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,335       81.36       81.36
          1 |        535       18.64      100.00
------------+-----------------------------------
      Total |      2,870      100.00

liver_trans |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      2,846       99.16       99.16
          1 |         24        0.84      100.00
------------+-----------------------------------
      Total |      2,870      100.00
note: delayed entry models are being fitted
note: any_high_risk_condition omitted because of collinearity
note: bmi_cat5 omitted because of collinearity
note: smoking3 omitted because of collinearity

Iteration 0:   log likelihood = -256.03414  (not concave)
Iteration 1:   log likelihood = -254.28889  (not concave)
Iteration 2:   log likelihood = -254.20244  (not concave)
Iteration 3:   log likelihood = -253.26262  (not concave)
Iteration 4:   log likelihood = -253.07764  (not concave)
Iteration 5:   log likelihood = -252.93622  (not concave)
Iteration 6:   log likelihood =  -252.8172  (not concave)
Iteration 7:   log likelihood = -252.71771  (not concave)
Iteration 8:   log likelihood = -252.63126  (not concave)
Iteration 9:   log likelihood = -252.55552  (not concave)
Iteration 10:  log likelihood = -252.48921  (not concave)
Iteration 11:  log likelihood = -252.43041  (not concave)
Iteration 12:  log likelihood =  -252.3781  (not concave)
Iteration 13:  log likelihood = -252.33136  (not concave)
Iteration 14:  log likelihood = -252.28944  (not concave)
Iteration 15:  log likelihood = -252.25183  (not concave)
Iteration 16:  log likelihood = -252.21795  (not concave)
Iteration 17:  log likelihood = -252.18747  (not concave)
Iteration 18:  log likelihood = -252.15996  (not concave)
Iteration 19:  log likelihood = -252.13516  (not concave)
Iteration 20:  log likelihood = -252.11275  (not concave)
Iteration 21:  log likelihood = -252.09252  (not concave)
Iteration 22:  log likelihood = -252.07422  (not concave)
Iteration 23:  log likelihood = -252.05769  (not concave)
Iteration 24:  log likelihood = -252.04273  (not concave)
Iteration 25:  log likelihood =  -252.0292  (not concave)
Iteration 26:  log likelihood = -252.01695  (not concave)
Iteration 27:  log likelihood = -252.00587  (not concave)
Iteration 28:  log likelihood = -251.99583  (not concave)
Iteration 29:  log likelihood = -251.98674  (not concave)
Iteration 30:  log likelihood =  -251.9785  (not concave)
Iteration 31:  log likelihood = -251.97105  (not concave)
Iteration 32:  log likelihood = -251.96428  (not concave)
Iteration 33:  log likelihood = -251.95815  (not concave)
Iteration 34:  log likelihood = -251.95259  (not concave)
Iteration 35:  log likelihood = -251.94755  (not concave)
Iteration 36:  log likelihood = -251.94298  (not concave)
Iteration 37:  log likelihood = -251.93883  (not concave)
Iteration 38:  log likelihood = -251.93506  (not concave)
Iteration 39:  log likelihood = -251.93164  (not concave)
Iteration 40:  log likelihood = -251.92853  (not concave)
Iteration 41:  log likelihood = -251.92571  (not concave)
Iteration 42:  log likelihood = -251.92479  (not concave)
Iteration 43:  log likelihood = -251.92404  (not concave)
Iteration 44:  log likelihood = -251.92334  (not concave)
Iteration 45:  log likelihood =   -251.923  (not concave)
Iteration 46:  log likelihood = -251.92259  (not concave)
Iteration 47:  log likelihood = -251.92201  (not concave)
Iteration 48:  log likelihood = -251.92167  (not concave)
Iteration 49:  log likelihood = -251.92123  (not concave)
Iteration 50:  log likelihood = -251.92098  (not concave)
Iteration 51:  log likelihood = -251.92064  (not concave)
Iteration 52:  log likelihood = -251.92038  (not concave)
Iteration 53:  log likelihood = -251.92012  (not concave)
Iteration 54:  log likelihood = -251.91972  (not concave)
Iteration 55:  log likelihood = -251.91934  (not concave)
Iteration 56:  log likelihood = -251.89751  (not concave)
Iteration 57:  log likelihood =  -251.8975  (not concave)
Iteration 58:  log likelihood = -251.89749  (not concave)
Iteration 59:  log likelihood = -251.89747  (not concave)
Iteration 60:  log likelihood = -251.89746  (not concave)
Iteration 61:  log likelihood = -251.89745  (not concave)
Iteration 62:  log likelihood = -251.89744  (not concave)
Iteration 63:  log likelihood = -251.89743  (not concave)
Iteration 64:  log likelihood = -251.89742  (not concave)
Iteration 65:  log likelihood =  -251.8974  (not concave)
Iteration 66:  log likelihood = -251.89739  (not concave)
Iteration 67:  log likelihood = -251.89738  (not concave)
Iteration 68:  log likelihood = -251.89737  (not concave)
Iteration 69:  log likelihood = -251.89736  (not concave)
Iteration 70:  log likelihood = -251.89735  (not concave)
Iteration 71:  log likelihood = -251.89734  (not concave)
Iteration 72:  log likelihood = -251.89732  (not concave)
Iteration 73:  log likelihood = -251.89731  (not concave)
Iteration 74:  log likelihood =  -251.8973  (not concave)
Iteration 75:  log likelihood = -251.89729  (not concave)
Iteration 76:  log likelihood = -251.89728  (not concave)
Iteration 77:  log likelihood = -251.89727  (not concave)
Iteration 78:  log likelihood = -251.89726  (not concave)
Iteration 79:  log likelihood = -251.89725  (not concave)
Iteration 80:  log likelihood = -251.89724  (not concave)
Iteration 81:  log likelihood = -251.89723  (not concave)
Iteration 82:  log likelihood = -251.89722  (not concave)
Iteration 83:  log likelihood =  -251.8972  (not concave)
Iteration 84:  log likelihood = -251.89719  (not concave)
Iteration 85:  log likelihood = -251.89718  (not concave)
Iteration 86:  log likelihood = -251.89717  (not concave)
Iteration 87:  log likelihood = -251.89716  (not concave)
Iteration 88:  log likelihood = -251.89715  (not concave)
Iteration 89:  log likelihood = -251.89714  (not concave)
Iteration 90:  log likelihood = -251.89713  (not concave)
Iteration 91:  log likelihood = -251.89712  (not concave)
Iteration 92:  log likelihood = -251.89711  (not concave)
Iteration 93:  log likelihood =  -251.8971  (not concave)
Iteration 94:  log likelihood = -251.89709  (not concave)
Iteration 95:  log likelihood = -251.89708  (not concave)
Iteration 96:  log likelihood = -251.89707  (not concave)
Iteration 97:  log likelihood = -251.89706  (not concave)
Iteration 98:  log likelihood = -251.89705  (not concave)
Iteration 99:  log likelihood = -251.89703  (not concave)
Iteration 100: log likelihood = -251.89702  (not concave)
Iteration 101: log likelihood = -251.89701  (not concave)
Iteration 102: log likelihood =   -251.897  (not concave)
Iteration 103: log likelihood = -251.89699  (not concave)
Iteration 104: log likelihood = -251.89698  (not concave)
Iteration 105: log likelihood = -251.89697  (not concave)
Iteration 106: log likelihood = -251.89696  (not concave)
Iteration 107: log likelihood = -251.89695  (not concave)
Iteration 108: log likelihood = -251.89694  (not concave)
Iteration 109: log likelihood = -251.89693  (not concave)
Iteration 110: log likelihood = -251.89692  (not concave)
Iteration 111: log likelihood = -251.89691  (not concave)
Iteration 112: log likelihood =  -251.8969  (not concave)
Iteration 113: log likelihood = -251.89689  (not concave)
Iteration 114: log likelihood = -251.89688  (not concave)
Iteration 115: log likelihood = -251.89687  (not concave)
Iteration 116: log likelihood = -251.89686  (not concave)
Iteration 117: log likelihood = -251.89685  (not concave)
Iteration 118: log likelihood = -251.89684  (not concave)
Iteration 119: log likelihood = -251.89683  (not concave)
Iteration 120: log likelihood = -251.89682  (not concave)
Iteration 121: log likelihood = -251.89681  (not concave)
Iteration 122: log likelihood =  -251.8968  (not concave)
Iteration 123: log likelihood = -251.89679  (not concave)
Iteration 124: log likelihood = -251.89678  (not concave)
Iteration 125: log likelihood = -251.89677  (not concave)
Iteration 126: log likelihood = -251.89676  (not concave)
Iteration 127: log likelihood = -251.89675  (not concave)
Iteration 128: log likelihood = -251.89674  (not concave)
Iteration 129: log likelihood = -251.89673  (not concave)
Iteration 130: log likelihood = -251.89672  (not concave)
Iteration 131: log likelihood = -251.89671  (not concave)
Iteration 132: log likelihood =  -251.8967  (not concave)
Iteration 133: log likelihood = -251.89669  (not concave)
Iteration 134: log likelihood = -251.89668  (not concave)
Iteration 135: log likelihood = -251.89667  (not concave)
Iteration 136: log likelihood = -251.89666  (not concave)
Iteration 137: log likelihood = -251.89665  (not concave)
Iteration 138: log likelihood = -251.89664  (not concave)
Iteration 139: log likelihood = -251.89663  (not concave)
Iteration 140: log likelihood = -251.89662  (not concave)
Iteration 141: log likelihood = -251.89661  (not concave)
Iteration 142: log likelihood =  -251.8966  (not concave)
Iteration 143: log likelihood = -251.89659  (not concave)
Iteration 144: log likelihood = -251.89658  (not concave)
Iteration 145: log likelihood = -251.89657  (not concave)
Iteration 146: log likelihood = -251.89656  (not concave)
Iteration 147: log likelihood = -251.89655  (not concave)
Iteration 148: log likelihood = -251.89654  (not concave)
Iteration 149: log likelihood = -251.89653  (not concave)
Iteration 150: log likelihood = -251.89652  (not concave)
Iteration 151: log likelihood = -251.89651  (not concave)
Iteration 152: log likelihood =  -251.8965  (not concave)
Iteration 153: log likelihood = -251.89649  (not concave)
Iteration 154: log likelihood = -251.89648  (not concave)
Iteration 155: log likelihood = -251.89647  (not concave)
Iteration 156: log likelihood = -251.89646  (not concave)
Iteration 157: log likelihood = -251.89645  (not concave)
Iteration 158: log likelihood = -251.89644  (not concave)
Iteration 159: log likelihood = -251.89643  (not concave)
Iteration 160: log likelihood = -251.89642  (not concave)
Iteration 161: log likelihood = -251.89641  (not concave)
Iteration 162: log likelihood =  -251.8964  (not concave)
Iteration 163: log likelihood = -251.89639  (not concave)
Iteration 164: log likelihood = -251.89638  (not concave)
Iteration 165: log likelihood = -251.89637  (not concave)
Iteration 166: log likelihood = -251.89636  (not concave)
Iteration 167: log likelihood = -251.89635  (not concave)
Iteration 168: log likelihood = -251.89634  (not concave)
Iteration 169: log likelihood = -251.89633  (not concave)
Iteration 170: log likelihood = -251.89632  (not concave)
Iteration 171: log likelihood = -251.89631  (not concave)
Iteration 172: log likelihood =  -251.8963  (not concave)
Iteration 173: log likelihood = -251.89629  (not concave)
Iteration 174: log likelihood = -251.89628  (not concave)
Iteration 175: log likelihood = -251.89627  (not concave)
Iteration 176: log likelihood = -251.89626  (not concave)
Iteration 177: log likelihood = -251.89625  (not concave)
Iteration 178: log likelihood = -251.89624  (not concave)
Iteration 179: log likelihood = -251.89623  (not concave)
Iteration 180: log likelihood = -251.89622  (not concave)
Iteration 181: log likelihood = -251.89621  (not concave)
Iteration 182: log likelihood =  -251.8962  (not concave)
Iteration 183: log likelihood = -251.89619  (not concave)
Iteration 184: log likelihood = -251.89618  (not concave)
Iteration 185: log likelihood = -251.89617  (not concave)
Iteration 186: log likelihood = -251.89616  (not concave)
Iteration 187: log likelihood = -251.89615  (not concave)
Iteration 188: log likelihood = -251.89614  (not concave)
Iteration 189: log likelihood = -251.89613  (not concave)
Iteration 190: log likelihood = -251.89612  (not concave)
Iteration 191: log likelihood = -251.89611  (not concave)
Iteration 192: log likelihood =  -251.8961  (not concave)
Iteration 193: log likelihood = -251.89609  (not concave)
Iteration 194: log likelihood = -251.89608  (not concave)
Iteration 195: log likelihood = -251.89607  (not concave)
Iteration 196: log likelihood = -251.89606  (not concave)
Iteration 197: log likelihood = -251.89605  (not concave)
Iteration 198: log likelihood = -251.89605  (not concave)
Iteration 199: log likelihood = -251.89604  (not concave)
Iteration 200: log likelihood = -251.89603  (not concave)
Iteration 201: log likelihood = -251.89602  (not concave)
Iteration 202: log likelihood = -251.89601  (not concave)
Iteration 203: log likelihood =   -251.896  (not concave)
Iteration 204: log likelihood = -251.89599  (not concave)
Iteration 205: log likelihood = -251.89598  (not concave)
Iteration 206: log likelihood = -251.89597  (not concave)
Iteration 207: log likelihood = -251.89596  (not concave)
Iteration 208: log likelihood = -251.89595  (not concave)
Iteration 209: log likelihood = -251.89594  (not concave)
Iteration 210: log likelihood = -251.89593  (not concave)
Iteration 211: log likelihood = -251.89592  (not concave)
Iteration 212: log likelihood = -251.89591  (not concave)
Iteration 213: log likelihood =  -251.8959  (not concave)
Iteration 214: log likelihood = -251.89589  (not concave)
Iteration 215: log likelihood = -251.89588  (not concave)
Iteration 216: log likelihood = -251.89587  (not concave)
Iteration 217: log likelihood = -251.89586  (not concave)
Iteration 218: log likelihood = -251.89585  (not concave)
Iteration 219: log likelihood = -251.89584  (not concave)
Iteration 220: log likelihood = -251.89583  (not concave)
Iteration 221: log likelihood = -251.89582  (not concave)
Iteration 222: log likelihood = -251.89581  (not concave)
Iteration 223: log likelihood =  -251.8958  (not concave)
Iteration 224: log likelihood = -251.89579  (not concave)
Iteration 225: log likelihood = -251.89578  (not concave)
Iteration 226: log likelihood = -251.89577  (not concave)
Iteration 227: log likelihood = -251.89576  (not concave)
Iteration 228: log likelihood = -251.89575  (not concave)
Iteration 229: log likelihood = -251.89574  (not concave)
Iteration 230: log likelihood = -251.89573  (not concave)
Iteration 231: log likelihood = -251.89572  (not concave)
Iteration 232: log likelihood = -251.89571  (not concave)
Iteration 233: log likelihood =  -251.8957  (not concave)
Iteration 234: log likelihood = -251.89569  (not concave)
Iteration 235: log likelihood = -251.89568  (not concave)
Iteration 236: log likelihood = -251.89567  (not concave)
Iteration 237: log likelihood = -251.89566  (not concave)
Iteration 238: log likelihood = -251.89565  (not concave)
Iteration 239: log likelihood = -251.89564  (not concave)
Iteration 240: log likelihood = -251.89563  (not concave)
Iteration 241: log likelihood = -251.89562  (not concave)
Iteration 242: log likelihood = -251.89561  (not concave)
Iteration 243: log likelihood =  -251.8956  (not concave)
Iteration 244: log likelihood = -251.89559  (not concave)
Iteration 245: log likelihood = -251.89558  (not concave)
Iteration 246: log likelihood = -251.89557  (not concave)
Iteration 247: log likelihood = -251.89556  (not concave)
Iteration 248: log likelihood = -251.89555  (not concave)
Iteration 249: log likelihood = -251.89554  (not concave)
Iteration 250: log likelihood = -251.89553  (not concave)
Iteration 251: log likelihood = -251.89552  (not concave)
Iteration 252: log likelihood = -251.89551  (not concave)
Iteration 253: log likelihood =  -251.8955  (not concave)
Iteration 254: log likelihood = -251.89549  (not concave)
Iteration 255: log likelihood = -251.89548  (not concave)
Iteration 256: log likelihood = -251.89547  (not concave)
Iteration 257: log likelihood = -251.89546  (not concave)
Iteration 258: log likelihood = -251.89544  (not concave)
Iteration 259: log likelihood = -251.89543  (not concave)
Iteration 260: log likelihood = -251.89542  (not concave)
Iteration 261: log likelihood = -251.89541  (not concave)
Iteration 262: log likelihood =  -251.8954  (not concave)
Iteration 263: log likelihood = -251.89539  (not concave)
Iteration 264: log likelihood = -251.89538  (not concave)
Iteration 265: log likelihood = -251.89537  (not concave)
Iteration 266: log likelihood = -251.89536  (not concave)
Iteration 267: log likelihood = -251.89535  (not concave)
Iteration 268: log likelihood = -251.89534  (not concave)
Iteration 269: log likelihood = -251.89533  (not concave)
Iteration 270: log likelihood = -251.89532  (not concave)
Iteration 271: log likelihood = -251.89531  (not concave)
Iteration 272: log likelihood =  -251.8953  (not concave)
Iteration 273: log likelihood = -251.89529  (not concave)
Iteration 274: log likelihood = -251.89528  (not concave)
Iteration 275: log likelihood = -251.89527  (not concave)
Iteration 276: log likelihood = -251.89526  (not concave)
Iteration 277: log likelihood = -251.89525  (not concave)
Iteration 278: log likelihood = -251.89524  (not concave)
Iteration 279: log likelihood = -251.89523  (not concave)
Iteration 280: log likelihood = -251.89522  (not concave)
Iteration 281: log likelihood = -251.89521  (not concave)
Iteration 282: log likelihood =  -251.8952  (not concave)
Iteration 283: log likelihood = -251.89519  (not concave)
Iteration 284: log likelihood = -251.89518  (not concave)
Iteration 285: log likelihood = -251.89517  (not concave)
Iteration 286: log likelihood = -251.89516  (not concave)
Iteration 287: log likelihood = -251.89515  (not concave)
Iteration 288: log likelihood = -251.89514  (not concave)
Iteration 289: log likelihood = -251.89513  (not concave)
Iteration 290: log likelihood = -251.89512  (not concave)
Iteration 291: log likelihood = -251.89511  (not concave)
Iteration 292: log likelihood =  -251.8951  (not concave)
Iteration 293: log likelihood = -251.89509  (not concave)
Iteration 294: log likelihood = -251.89508  (not concave)
Iteration 295: log likelihood = -251.89507  (not concave)
Iteration 296: log likelihood = -251.89506  (not concave)
Iteration 297: log likelihood = -251.89505  (not concave)
Iteration 298: log likelihood = -251.89504  (not concave)
Iteration 299: log likelihood = -251.89503  (not concave)
Iteration 300: log likelihood = -251.89502  (not concave)
convergence not achieved

Log likelihood = -251.89502                     Number of obs     =      2,839

------------------------------------------------------------------------------
             |     exp(b)   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
xb           |
        udca |   .8342601   .5005153    -0.30   0.763      .257408    2.703839
        male |   1.059277   .2789239     0.22   0.827     .6322301    1.774778
      age_tv |   1.002852   .0071841     0.40   0.691     .9888697    1.017032
any_high_r~n |          1   1.30e-15    -0.06   0.955            1           1
     eth_bin |   1.082922    .411589     0.21   0.834      .514137    2.280949
        imd1 |   1.337127   1.303348     0.30   0.766     .1979131    9.033807
        imd2 |   3.067092    2.87107     1.20   0.231     .4896965    19.20997
        imd3 |   2.250609   2.155614     0.85   0.397     .3443708    14.70868
        imd4 |   3.392891   3.160514     1.31   0.190     .5465964    21.06071
        imd5 |   3.084154   2.910981     1.19   0.233     .4849859    19.61296
    bmi_cat1 |   1.959383   1.581541     0.83   0.405     .4027738    9.531857
    bmi_cat2 |   1.895095   1.327495     0.91   0.361     .4801456    7.479785
    bmi_cat3 |   1.005276   .7748585     0.01   0.995     .2219145    4.553912
    bmi_cat4 |   1.989214    1.40755     0.97   0.331     .4970261    7.961299
    bmi_cat5 |          1  (omitted)
    smoking1 |   .5900629   .3476984    -0.90   0.371     .1859184    1.872726
    smoking2 |    .841771   .2866204    -0.51   0.613     .4318794    1.640686
    smoking3 |          1  (omitted)
severe_dis~e |   .7421339   .2406522    -0.92   0.358     .3930634    1.401206
covid_vacc~t |   1.424936   3.004587     0.17   0.867     .0228545     88.8421
 liver_trans |   1.15e-63  (constrained)
       _rcs1 |   3.375678   1.263753     3.25   0.001     1.620678    7.031136
  _rcs_udca1 |   .9936407   .5343323    -0.01   0.991     .3463331    2.850787
_rcs_sever~1 |   .9081086   .2676342    -0.33   0.744     .5096535    1.618082
_rcs_covid~1 |   .8851884   1.216507    -0.09   0.929     .0598737    13.08685
_rcs_liver~1 |   1.017341   .5860259     0.03   0.976     .3289602    3.146227
_rcs_age_tv1 |   1.001151   .0074349     0.15   0.877     .9866849     1.01583
       _cons |   .0089882   .0113388    -3.74   0.000     .0007583     .106533
------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.
convergence not achieved
r(430);

end of do-file
r(430);

end of do-file

r(430);


