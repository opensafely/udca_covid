
. 
. * Open file to write results to 
. file open tablecontent using ./output/tables/cox_models.txt, write text repla
> ce
(note: file ./output/tables/cox_models.txt not found)

. file write tablecontent ("Outcome") _tab ("Exposure status") _tab ("denominat
> or") _tab ("events") _tab ("total_person_wks") _tab ("Rate") _tab ("unadj_hr"
> ) _tab ///
> ("unadj_ci") _tab ("unadj_lci") _tab ("unadj_uci")  _tab ("p_adj_hr") _tab ("
> p_adj_ci") _tab ("p_adj_lci") _tab ("p_adj_uci") _tab ("f_adj_hr") _tab ("f_a
> dj_ci") _tab ("f_adj_lci") _tab ("f_adj_uci") _tab  _n

. 
. * Cox models and Schoenfeld residual plots for each outcome
. foreach outcome in died_covid_any hosp_any composite_any {
  2.     use ./output/an_dataset_`outcome', clear 
  3.     * Open file to write results
.     describe
  4.     gen index_date = date("01/03/2020", "DMY")
  5.     stset stop, fail(`outcome'_flag) id(patient_id) enter(index_date) orig
> in(index_date)
  6.     count if `outcome'_flag==1
  7.     if r(N) > 10 {
  8.         sts graph, by(udca) title("`outcome'") graphregion(fcolor(white)) 
> ylabel(.75(.1)1)
  9.         graph export ./output/graphs/km_`outcome'.svg, as(svg) replace
 10.         * Cox model - crude
.         stcox udca, strata(stp) vce(robust)
 11.         estimates save "./output/tempdata/crude_`outcome'", replace 
 12.         eststo model1
 13.         parmest, label eform format(estimate p lb ub) saving("./output/tem
> pdata/surv_crude_`outcome'", replace) idstr("crude_`outcome'") 
 14.         estat phtest, detail
 15.         * Plot schoenfeld residuals 
.         estat phtest, plot(udca) ///
>                     graphregion(fcolor(white)) ///
>                     ylabel(, nogrid labsize(small)) ///
>                     xlabel(, labsize(small)) ///
>                     xtitle("Time", size(small)) ///
>                     ytitle("Scaled Schoenfeld Residuals", size(small)) ///
>                     msize(small) ///
>                     mcolor(gs6) ///
>                     msymbol(circle_hollow) ///
>                     scheme(s1mono) ///
>                     title ("`outcome'", position(11) size(medsmall)) ///
>                     name(uni_plot_`outcome') ///
>                     note("")
 16.         * Cox model - age and sex adjusted
.         stcox udca age_tv male, strata(stp) vce(robust)
 17.         estimates save "./output/tempdata/p_adj_model_`outcome'", replace 
 18.         eststo model2
 19.         parmest, label eform format(estimate p lb ub) saving("./output/tem
> pdata/p_surv_adj_`outcome'", replace) idstr("adj_`outcome'") 
 20.         estat phtest, detail
 21.         * Cox model - fully adjusted
.         stcox udca age_tv male any_high_risk_condition i.ethnicity i.imd i.bm
> i_cat i.smoking severe_disease covid_vacc_first liver_trans i.wave, strata(st
> p) vce(robust)
 22.         estimates save "./output/tempdata/adj_model_`outcome'", replace 
 23.         eststo model3
 24.         parmest, label eform format(estimate p lb ub) saving("./output/tem
> pdata/surv_adj_`outcome'", replace) idstr("adj_`outcome'") 
 25.         estat phtest, detail
 26.         * Plot Schoenfeld residuals 
.         estat phtest, plot(udca) ///
>                     graphregion(fcolor(white)) ///
>                     ylabel(, nogrid labsize(small)) ///
>                     xlabel(, labsize(small)) ///
>                     xtitle("Time", size(small)) ///
>                     ytitle("Scaled Schoenfeld Residuals", size(small)) ///
>                     msize(small) ///
>                     mcolor(gs6) ///
>                     msymbol(circle_hollow) ///
>                     scheme(s1mono) ///
>                     title ("Adjusted `outcome'", position(11) size(medsmall))
>  ///
>                     name(adj_plot_`outcome') ///
>                     note("")
 27.         graph combine uni_plot_`outcome' adj_plot_`outcome'
 28.         graph export ./output/graphs/schoenplot_`outcome'.svg, as(svg) rep
> lace 
 29.         * flag single row for each person
.         bys patient_id (start): gen number = _n==_N 
 30.         tab number 
 31.         * Count number unexposed at any time 
.         bys patient_id : egen unexposed_ever = min(udca) 
 32.         tab unexposed_ever if number==1
 33.         safecount if unexposed_ever==1 & number==1
 34.         local denominator = r(N)
 35.         safecount if udca == 0 & `outcome'_flag == 1
 36.         local event = r(N)
 37.         di "no udca events = " `event'
 38.         bysort udca: egen total_follow_up = total(_t) if number==1
 39.         su total_follow_up if udca==0 & number==1
 40.         local person_mth = r(mean)/30
 41.         di `person_mth'
 42.         local rate = 100000*(`event'/`person_mth')
 43.         di `rate'
 44.         if `event'>10 & `event'!=. {
 45.             file write tablecontent  ("`outcome'") _tab ("No UDCA") _tab (
> `denominator') _tab (`event') _tab %10.0f (`person_mth') _tab %3.2f (`rate') 
> _tab
 46.             file write tablecontent ("1.00") _tab _tab ("1.00")  _n
 47.             }
 48.         else {
 49.             file write tablecontent ("`outcome'") _tab ("No UDCA") _tab ("
> redact") _n
 50.             continue
 51.         }
 52.         * Count number exposed at any time 
.         bys patient_id : egen exposed_ever = max(udca) 
 53.         tab exposed_ever if number==1
 54.         qui safecount if exposed_ever==1 & number==1
 55.         local denominator = r(N)
 56.         qui safecount if udca == 1 & `outcome'_flag == 1
 57.         local event = r(N)
 58.         di "udca events = " `event'
 59.         qui su total_follow_up if udca==1 & number==1
 60.         local person_mth = r(mean)/30
 61.         local rate = 100000*(`event'/`person_mth')
 62.         if `event'>10 & `event'!=. {
 63.             file write tablecontent ("`outcome'") _tab ("UDCA") _tab (`den
> ominator') _tab (`event') _tab %10.0f (`person_mth') _tab %3.2f (`rate') _tab
 64.             cap estimates use "./output/tempdata/crude_`outcome'" 
 65.             cap lincom udca, eform
 66.             file write tablecontent  %4.2f (r(estimate)) _tab ("(") %4.2f 
> (r(lb)) (" - ") %4.2f (r(ub)) (")") _tab %4.2f (r(lb)) _tab %4.2f (r(ub)) _ta
> b 
 67.             cap estimates clear
 68.             cap estimates use "./output/tempdata/p_adj_model_`outcome'" 
 69.             cap lincom udca, eform
 70.             file write tablecontent  %4.2f (r(estimate)) _tab ("(") %4.2f 
> (r(lb)) (" - ") %4.2f (r(ub)) (")") _tab %4.2f (r(lb)) _tab %4.2f (r(ub)) _ta
> b 
 71.             cap estimates clear
 72.             cap estimates use "./output/tempdata/adj_model_`outcome'" 
 73.             cap lincom udca, eform
 74.             file write tablecontent  %4.2f (r(estimate)) _tab ("(") %4.2f 
> (r(lb)) (" - ") %4.2f (r(ub)) (")") _tab %4.2f (r(lb)) _tab %4.2f (r(ub)) _ta
> b _n 
 75.             cap estimates clear
 76.         }
 77.         else {
 78.             file write tablecontent  ("`outcome'") _tab ("UDCA") _tab ("re
> dact") _n
 79.             continue
 80.         }
 81.     
. drop total_follow_up
 82.     }
 83. else { 
 84.     file write tablecontent ("`outcome'") _tab ("redact") _n
 85.     continue
 86. }
 87. }

Contains data from ./output/an_dataset_died_covid_any.dta
  obs:         4,967                          
 vars:            17                          2 Aug 2023 13:37
-------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
stp             str4    %9s                   
imd             byte    %8.0g                 
ethnicity       byte    %8.0g      eth5       
patient_id      int     %8.0g                 
male            float   %9.0g                 
bmi_cat         float   %14.0g     bmi        
smoking         float   %14.0g     smok       
any_high_risk~n float   %9.0g                 
start           float   %9.0g                 
stop            float   %9.0g                 
died_covid_an~g byte    %8.0g                 
wave            float   %9.0g                 
age_tv          float   %9.0g                 
udca            float   %9.0g                 
liver_trans     float   %9.0g                 
covid_vacc_fi~t float   %9.0g                 
severe_disease  float   %9.0g                 
-------------------------------------------------------------------------------
Sorted by: 

                id:  patient_id
     failure event:  died_covid_any_flag != 0 & died_covid_any_flag < .
obs. time interval:  (stop[_n-1], stop]
 enter on or after:  time index_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time index_date

------------------------------------------------------------------------------
      4,967  total observations
          0  exclusions
------------------------------------------------------------------------------
      4,967  observations remaining, representing
      1,000  subjects
        153  failures in single-failure-per-subject data
    651,528  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =     1,035
  153

         failure _d:  died_covid_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id
(note: file ./output/graphs/km_died_covid_any.svg not found)
(file ./output/graphs/km_died_covid_any.svg written in SVG format)

         failure _d:  died_covid_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log pseudolikelihood = -361.07731
Iteration 1:   log pseudolikelihood = -360.49144
Iteration 2:   log pseudolikelihood = -360.47191
Iteration 3:   log pseudolikelihood = -360.47187
Refining estimates:
Iteration 0:   log pseudolikelihood = -360.47187

Stratified Cox regr. -- no ties

No. of subjects      =        1,000             Number of obs    =       2,433
No. of failures      =          153
Time at risk         =       651528
                                                Wald chi2(1)     =        1.01
Log pseudolikelihood =   -360.47187             Prob > chi2      =      0.3138

                           (Std. Err. adjusted for 500 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   .5926041   .3078428    -1.01   0.314     .2140854    1.640372
------------------------------------------------------------------------------
                                                             Stratified by stp
file ./output/tempdata/crude_died_covid_any.ster saved
file ./output/tempdata/surv_crude_died_covid_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.07993         0.50        1         0.4803
      ------------+---------------------------------------------------
      global test |                      0.50        1         0.4803
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

         failure _d:  died_covid_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log pseudolikelihood = -360.18634
Iteration 1:   log pseudolikelihood = -357.81299
Iteration 2:   log pseudolikelihood =  -357.7883
Iteration 3:   log pseudolikelihood = -357.78825
Refining estimates:
Iteration 0:   log pseudolikelihood = -357.78825

Stratified Cox regr. -- no ties

No. of subjects      =          990             Number of obs    =       2,405
No. of failures      =          150
Time at risk         =       645699
                                                Wald chi2(3)     =        4.81
Log pseudolikelihood =   -357.78825             Prob > chi2      =      0.1865

                           (Std. Err. adjusted for 496 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   .5468036   .2932763    -1.13   0.260     .1911139    1.564482
      age_tv |   .9937111   .0049572    -1.26   0.206     .9840425    1.003475
        male |   1.388781   .3225009     1.41   0.157     .8809857    2.189267
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/p_adj_model_died_covid_any.ster not found)
file ./output/tempdata/p_adj_model_died_covid_any.ster saved
(note: file ./output/tempdata/p_surv_adj_died_covid_any.dta not found)
file ./output/tempdata/p_surv_adj_died_covid_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.07347         0.47        1         0.4914
      age_tv      |     -0.03624         0.12        1         0.7281
      male        |     -0.03869         0.13        1         0.7211
      ------------+---------------------------------------------------
      global test |                      0.76        3         0.8589
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

         failure _d:  died_covid_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

note: any_high_risk_condition omitted because of collinearity
Iteration 0:   log pseudolikelihood = -360.18634
Iteration 1:   log pseudolikelihood = -342.92542
Iteration 2:   log pseudolikelihood = -341.89487
Iteration 3:   log pseudolikelihood = -341.77057
Iteration 4:   log pseudolikelihood = -341.72795
Iteration 5:   log pseudolikelihood = -341.71229
Iteration 6:   log pseudolikelihood = -341.70654
Iteration 7:   log pseudolikelihood = -341.70442
Iteration 8:   log pseudolikelihood = -341.70364
Iteration 9:   log pseudolikelihood = -341.70335
Iteration 10:  log pseudolikelihood = -341.70325
Iteration 11:  log pseudolikelihood = -341.70321
Iteration 12:  log pseudolikelihood = -341.70319
Iteration 13:  log pseudolikelihood = -341.70319
Iteration 14:  log pseudolikelihood = -341.70319
Iteration 15:  log pseudolikelihood = -341.70319
Iteration 16:  log pseudolikelihood = -341.70319
Iteration 17:  log pseudolikelihood = -341.70319
Iteration 18:  log pseudolikelihood = -341.70319
Iteration 19:  log pseudolikelihood = -341.70319
Iteration 20:  log pseudolikelihood = -341.70319
Iteration 21:  log pseudolikelihood = -341.70319
Iteration 22:  log pseudolikelihood = -341.70319
Iteration 23:  log pseudolikelihood = -341.70319
Iteration 24:  log pseudolikelihood = -341.70319
Iteration 25:  log pseudolikelihood = -341.70319
Iteration 26:  log pseudolikelihood = -341.70319
Iteration 27:  log pseudolikelihood = -341.70319
Iteration 28:  log pseudolikelihood = -341.70319
Iteration 29:  log pseudolikelihood = -341.70319
Iteration 30:  log pseudolikelihood = -341.70319
Iteration 31:  log pseudolikelihood = -341.70319
Iteration 32:  log pseudolikelihood = -341.70319
Iteration 33:  log pseudolikelihood = -341.70319
Iteration 34:  log pseudolikelihood = -341.70319
Refining estimates:
Iteration 0:   log pseudolikelihood = -341.70319
Iteration 1:   log pseudolikelihood = -341.70319
Iteration 2:   log pseudolikelihood = -341.70319
Iteration 3:   log pseudolikelihood = -341.70319

Stratified Cox regr. -- no ties

No. of subjects      =          990             Number of obs    =       2,405
No. of failures      =          150
Time at risk         =       645699
                                                Wald chi2(24)    =     4525.50
Log pseudolikelihood =   -341.70319             Prob > chi2      =      0.0000

                           (Std. Err. adjusted for 496 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   .5617566   .3066791    -1.06   0.291     .1926871    1.637735
      age_tv |   .9924645   .0050664    -1.48   0.138     .9825841    1.002444
        male |   1.599183   .3966253     1.89   0.058     .9835245    2.600225
any_high_r~n |          1  (omitted)
             |
   ethnicity |
      Mixed  |   .9754471   .3869292    -0.06   0.950     .4482897    2.122505
      Asian  |   .8897615   .3536333    -0.29   0.769     .4082872    1.939016
      Black  |   .9765022   .4051525    -0.06   0.954     .4330202    2.202106
      Other  |   .8411723   .3364585    -0.43   0.665     .3840739    1.842277
    Unknown  |   1.291157   .6046703     0.55   0.585      .515641    3.233039
             |
         imd |
          2  |   1.652145    .608859     1.36   0.173     .8023388    3.402032
          3  |   2.053817   .8121277     1.82   0.069     .9461863     4.45807
          4  |   1.215078   .4890292     0.48   0.628      .552107    2.674145
          5  |   .9332778   .3984148    -0.16   0.871     .4042354    2.154703
          6  |    1.11601   .8195132     0.15   0.881     .2646121    4.706804
             |
     bmi_cat |
Underweight  |   .8945583   .4524662    -0.22   0.826     .3319496    2.410711
Healthy r..  |   .7132633   .2947368    -0.82   0.414     .3173319    1.603194
 Overweight  |   1.374083   .4697521     0.93   0.353     .7030987    2.685405
      Obese  |   1.040193   .3567291     0.11   0.909     .5311276     2.03718
Morbidly ..  |   .4029247   .3094298    -1.18   0.237     .0894408    1.815148
             |
     smoking |
Current s..  |    1.57351   .9602178     0.74   0.458     .4758092    5.203628
  Ex-smoker  |   .6560201   .4634818    -0.60   0.551     .1642625    2.619967
    Unknown  |    2.82499   1.545733     1.90   0.058     .9666519    8.255887
             |
severe_dis~e |   .8488961    .213856    -0.65   0.516      .518105    1.390885
covid_vacc~t |   .5640845   .1717793    -1.88   0.060     .3105487     1.02461
 liver_trans |   1.86e-16   1.21e-16   -55.83   0.000     5.22e-17    6.64e-16
             |
        wave |
          2  |    2249420          .        .       .            .           .
          3  |   1.75e+07          .        .       .            .           .
          4  |   6.59e+08          .        .       .            .           .
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/adj_model_died_covid_any.ster not found)
file ./output/tempdata/adj_model_died_covid_any.ster saved
(note: file ./output/tempdata/surv_adj_died_covid_any.dta not found)
file ./output/tempdata/surv_adj_died_covid_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.06945         0.68        1         0.4095
      age_tv      |      0.03040         0.12        1         0.7274
      male        |     -0.06508         0.72        1         0.3971
      o.any_high~n|            .            .        1             .
      1b.ethnicity|            .            .        1             .
      2.ethnicity |     -0.10304         1.71        1         0.1912
      3.ethnicity |     -0.02834         0.13        1         0.7137
      4.ethnicity |     -0.02222         0.06        1         0.8017
      5.ethnicity |     -0.11654         1.75        1         0.1859
      6.ethnicity |      0.09662         1.29        1         0.2557
      1b.imd      |            .            .        1             .
      2.imd       |     -0.19195         3.97        1         0.0464
      3.imd       |     -0.08141         1.06        1         0.3028
      4.imd       |     -0.06036         0.55        1         0.4573
      5.imd       |      0.01995         0.04        1         0.8327
      6.imd       |     -0.14717         3.26        1         0.0710
      0b.bmi_cat  |            .            .        1             .
      1.bmi_cat   |     -0.06422         0.41        1         0.5199
      2.bmi_cat   |      0.10512         1.68        1         0.1953
      3.bmi_cat   |      0.15943         3.22        1         0.0726
      4.bmi_cat   |      0.10952         1.39        1         0.2379
      5.bmi_cat   |      0.09313         1.29        1         0.2557
      0b.smoking  |            .            .        1             .
      1.smoking   |     -0.11107         1.70        1         0.1917
      2.smoking   |      0.01328         0.02        1         0.8827
      3.smoking   |     -0.05613         0.48        1         0.4869
      severe_dis~e|      0.01311         0.02        1         0.8835
      covid_vacc~t|      0.19305         2.45        1         0.1176
      liver_trans |      0.13263         0.78        1         0.3768
      1b.wave     |            .            .        1             .
      2.wave      |            .            .        1             .
      3.wave      |            .            .        1             .
      4.wave      |            .            .        1             .
      ------------+---------------------------------------------------
      global test |                     22.06       24         0.5755
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.
(note: file ./output/graphs/schoenplot_died_covid_any.svg not found)
(file ./output/graphs/schoenplot_died_covid_any.svg written in SVG format)

     number |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      3,967       79.87       79.87
          1 |      1,000       20.13      100.00
------------+-----------------------------------
      Total |      4,967      100.00

unexposed_e |
        ver |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,000      100.00      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  0
  139
no udca events = 139
(3967 missing values generated)

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
total_foll~p |        897      584131           0     584131     584131
19471.033
713.88096

exposed_eve |
          r |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        897       89.70       89.70
          1 |        103       10.30      100.00
------------+-----------------------------------
      Total |      1,000      100.00
udca events = 14

Contains data from ./output/an_dataset_hosp_any.dta
  obs:         5,025                          
 vars:            17                          2 Aug 2023 13:37
-------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
stp             str4    %9s                   
imd             byte    %8.0g                 
ethnicity       byte    %8.0g      eth5       
patient_id      int     %8.0g                 
male            float   %9.0g                 
bmi_cat         float   %14.0g     bmi        
smoking         float   %14.0g     smok       
any_high_risk~n float   %9.0g                 
start           float   %9.0g                 
stop            float   %9.0g                 
hosp_any_flag   float   %9.0g                 
wave            float   %9.0g                 
age_tv          float   %9.0g                 
udca            float   %9.0g                 
liver_trans     float   %9.0g                 
covid_vacc_fi~t float   %9.0g                 
severe_disease  float   %9.0g                 
-------------------------------------------------------------------------------
Sorted by: 

                id:  patient_id
     failure event:  hosp_any_flag != 0 & hosp_any_flag < .
obs. time interval:  (stop[_n-1], stop]
 enter on or after:  time index_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time index_date

------------------------------------------------------------------------------
      5,025  total observations
        191  observations begin on or after (first) failure
------------------------------------------------------------------------------
      4,834  observations remaining, representing
      1,000  subjects
         58  failures in single-failure-per-subject data
    630,402  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =     1,035
  58

         failure _d:  hosp_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id
(note: file ./output/graphs/km_hosp_any.svg not found)
(file ./output/graphs/km_hosp_any.svg written in SVG format)

         failure _d:  hosp_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log pseudolikelihood = -145.73668
Iteration 1:   log pseudolikelihood = -145.44108
Iteration 2:   log pseudolikelihood = -145.42683
Iteration 3:   log pseudolikelihood = -145.42682
Refining estimates:
Iteration 0:   log pseudolikelihood = -145.42682

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =        1,000             Number of obs    =       2,364
No. of failures      =           58
Time at risk         =       630402
                                                Wald chi2(1)     =        0.67
Log pseudolikelihood =   -145.42682             Prob > chi2      =      0.4119

                           (Std. Err. adjusted for 500 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   1.562364   .8495755     0.82   0.412     .5381699    4.535706
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/crude_hosp_any.ster not found)
file ./output/tempdata/crude_hosp_any.ster saved
(note: file ./output/tempdata/surv_crude_hosp_any.dta not found)
file ./output/tempdata/surv_crude_hosp_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.04197         0.06        1         0.8121
      ------------+---------------------------------------------------
      global test |                      0.06        1         0.8121
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

         failure _d:  hosp_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log pseudolikelihood = -145.40832
Iteration 1:   log pseudolikelihood =  -145.0496
Iteration 2:   log pseudolikelihood = -145.03693
Iteration 3:   log pseudolikelihood = -145.03692
Refining estimates:
Iteration 0:   log pseudolikelihood = -145.03692

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          990             Number of obs    =       2,336
No. of failures      =           58
Time at risk         =       624573
                                                Wald chi2(3)     =        0.83
Log pseudolikelihood =   -145.03692             Prob > chi2      =      0.8412

                           (Std. Err. adjusted for 496 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   1.514911   .8377779     0.75   0.453     .5124534    4.478367
      age_tv |   1.002619   .0083434     0.31   0.753     .9863987    1.019106
        male |   1.067692    .387478     0.18   0.857     .5242458    2.174488
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/p_adj_model_hosp_any.ster not found)
file ./output/tempdata/p_adj_model_hosp_any.ster saved
(note: file ./output/tempdata/p_surv_adj_hosp_any.dta not found)
file ./output/tempdata/p_surv_adj_hosp_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.07731         0.21        1         0.6490
      age_tv      |     -0.03667         0.07        1         0.7974
      male        |      0.30204         2.64        1         0.1042
      ------------+---------------------------------------------------
      global test |                      2.78        3         0.4273
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

         failure _d:  hosp_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

note: any_high_risk_condition omitted because of collinearity
Iteration 0:   log pseudolikelihood = -145.40832
Iteration 1:   log pseudolikelihood = -130.61531
Iteration 2:   log pseudolikelihood = -128.69022
Iteration 3:   log pseudolikelihood = -128.40885
Iteration 4:   log pseudolikelihood = -128.33886
Iteration 5:   log pseudolikelihood = -128.31338
Iteration 6:   log pseudolikelihood = -128.30399
Iteration 7:   log pseudolikelihood = -128.30053
Iteration 8:   log pseudolikelihood = -128.29925
Iteration 9:   log pseudolikelihood = -128.29878
Iteration 10:  log pseudolikelihood = -128.29861
Iteration 11:  log pseudolikelihood = -128.29855
Iteration 12:  log pseudolikelihood = -128.29853
Iteration 13:  log pseudolikelihood = -128.29852
Iteration 14:  log pseudolikelihood = -128.29851
Iteration 15:  log pseudolikelihood = -128.29851
Iteration 16:  log pseudolikelihood = -128.29851
Iteration 17:  log pseudolikelihood = -128.29851
Iteration 18:  log pseudolikelihood = -128.29851
Iteration 19:  log pseudolikelihood = -128.29851
Iteration 20:  log pseudolikelihood = -128.29851
Iteration 21:  log pseudolikelihood = -128.29851
Iteration 22:  log pseudolikelihood = -128.29851
Iteration 23:  log pseudolikelihood = -128.29851
Iteration 24:  log pseudolikelihood = -128.29851
Iteration 25:  log pseudolikelihood = -128.29851
Iteration 26:  log pseudolikelihood = -128.29851
Iteration 27:  log pseudolikelihood = -128.29851
Iteration 28:  log pseudolikelihood = -128.29851
Iteration 29:  log pseudolikelihood = -128.29851
Iteration 30:  log pseudolikelihood = -128.29851
Iteration 31:  log pseudolikelihood = -128.29851
Iteration 32:  log pseudolikelihood = -128.29851
Iteration 33:  log pseudolikelihood = -128.29851
Refining estimates:
Iteration 0:   log pseudolikelihood = -128.29851
Iteration 1:   log pseudolikelihood = -128.29851

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          990             Number of obs    =       2,336
No. of failures      =           58
Time at risk         =       624573
                                                Wald chi2(24)    =     8660.26
Log pseudolikelihood =   -128.29851             Prob > chi2      =      0.0000

                           (Std. Err. adjusted for 496 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   1.582716   .9292415     0.78   0.434     .5007797    5.002176
      age_tv |   1.005874    .008591     0.69   0.493     .9891759    1.022853
        male |   1.105259    .413196     0.27   0.789     .5311854    2.299757
any_high_r~n |          1  (omitted)
             |
   ethnicity |
      Mixed  |   1.543093   .9448512     0.71   0.479      .464722    5.123789
      Asian  |   1.140473   .7342335     0.20   0.838     .3229117    4.027971
      Black  |   1.387225   .9772962     0.46   0.642     .3487208    5.518437
      Other  |   1.083957   .6840546     0.13   0.898     .3146609     3.73406
    Unknown  |    .645017   .7041474    -0.40   0.688     .0759168    5.480304
             |
         imd |
          2  |   8.811598   9.478042     2.02   0.043     1.070224    72.54957
          3  |   10.79625   11.16996     2.30   0.021     1.421042    82.02362
          4  |   8.829969   9.456403     2.03   0.042     1.082355    72.03581
          5  |   7.775575   8.461903     1.88   0.059      .921293    65.62468
          6  |   1.10e-14   1.16e-14   -30.43   0.000     1.39e-15    8.72e-14
             |
     bmi_cat |
Underweight  |   .7208907   .5492218    -0.43   0.668     .1619453    3.209007
Healthy r..  |   1.006731   .6510646     0.01   0.992     .2834208    3.575982
 Overweight  |   .1592809   .1678549    -1.74   0.081     .0201903    1.256564
      Obese  |   1.688169   .8190144     1.08   0.280     .6523125    4.368939
Morbidly ..  |    .527114   .5572285    -0.61   0.545     .0663855    4.185391
             |
     smoking |
Current s..  |   2.535625   2.689527     0.88   0.380     .3171166    20.27454
  Ex-smoker  |   3.263716   3.476496     1.11   0.267      .404591    26.32744
    Unknown  |   3.808414   3.964351     1.28   0.199     .4950962    29.29534
             |
severe_dis~e |   .3916266   .1588894    -2.31   0.021     .1768176    .8673987
covid_vacc~t |   .8079001   .4025638    -0.43   0.669     .3042408    2.145349
 liver_trans |   2.66e-15   2.09e-15   -42.63   0.000     5.68e-16    1.24e-14
             |
        wave |
          2  |    497.393          .        .       .            .           .
          3  |   160506.6          .        .       .            .           .
          4  |    6789739          .        .       .            .           .
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/adj_model_hosp_any.ster not found)
file ./output/tempdata/adj_model_hosp_any.ster saved
(note: file ./output/tempdata/surv_adj_hosp_any.dta not found)
file ./output/tempdata/surv_adj_hosp_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.24403         5.05        1         0.0246
      age_tv      |     -0.19282         5.05        1         0.0246
      male        |      0.20115         3.65        1         0.0560
      o.any_high~n|            .            .        1             .
      1b.ethnicity|            .            .        1             .
      2.ethnicity |     -0.19753         2.47        1         0.1162
      3.ethnicity |      0.17924         1.81        1         0.1785
      4.ethnicity |      0.18643         3.05        1         0.0808
      5.ethnicity |      0.21457         2.24        1         0.1348
      6.ethnicity |      0.09152         0.43        1         0.5098
      1b.imd      |            .            .        1             .
      2.imd       |     -0.12876         0.83        1         0.3613
      3.imd       |     -0.19290         1.88        1         0.1699
      4.imd       |     -0.37744         8.44        1         0.0037
      5.imd       |     -0.38766        10.03        1         0.0015
      6.imd       |     -0.19533         1.44        1         0.2305
      0b.bmi_cat  |            .            .        1             .
      1.bmi_cat   |      0.17719         1.73        1         0.1885
      2.bmi_cat   |     -0.33852        13.78        1         0.0002
      3.bmi_cat   |      0.28745         7.16        1         0.0075
      4.bmi_cat   |      0.08372         0.47        1         0.4914
      5.bmi_cat   |      0.14044         1.28        1         0.2577
      0b.smoking  |            .            .        1             .
      1.smoking   |      0.16344         1.53        1         0.2166
      2.smoking   |      0.03588         0.07        1         0.7985
      3.smoking   |      0.20766         2.63        1         0.1051
      severe_dis~e|     -0.21786         4.46        1         0.0347
      covid_vacc~t|      0.04110         0.12        1         0.7332
      liver_trans |     -0.35209         4.70        1         0.0301
      1b.wave     |            .            .        1             .
      2.wave      |            .            .        1             .
      3.wave      |            .            .        1             .
      4.wave      |      0.14845            .        1             .
      ------------+---------------------------------------------------
      global test |                     49.84       24         0.0015
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.
(note: file ./output/graphs/schoenplot_hosp_any.svg not found)
(file ./output/graphs/schoenplot_hosp_any.svg written in SVG format)

     number |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      4,025       80.10       80.10
          1 |      1,000       19.90      100.00
------------+-----------------------------------
      Total |      5,025      100.00

unexposed_e |
        ver |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,000      100.00      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  0
  53
no udca events = 53
(4025 missing values generated)

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
total_foll~p |        897      541499           0     541499     541499
18049.967
293.62935

exposed_eve |
          r |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        897       89.70       89.70
          1 |        103       10.30      100.00
------------+-----------------------------------
      Total |      1,000      100.00
udca events = .

Contains data from ./output/an_dataset_composite_any.dta
  obs:         5,025                          
 vars:            17                          2 Aug 2023 13:37
-------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
stp             str4    %9s                   
imd             byte    %8.0g                 
ethnicity       byte    %8.0g      eth5       
patient_id      int     %8.0g                 
male            float   %9.0g                 
bmi_cat         float   %14.0g     bmi        
smoking         float   %14.0g     smok       
any_high_risk~n float   %9.0g                 
start           float   %9.0g                 
stop            float   %9.0g                 
composite_any~g float   %9.0g                 
wave            float   %9.0g                 
age_tv          float   %9.0g                 
udca            float   %9.0g                 
liver_trans     float   %9.0g                 
covid_vacc_fi~t float   %9.0g                 
severe_disease  float   %9.0g                 
-------------------------------------------------------------------------------
Sorted by: 

                id:  patient_id
     failure event:  composite_any_flag != 0 & composite_any_flag < .
obs. time interval:  (stop[_n-1], stop]
 enter on or after:  time index_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time index_date

------------------------------------------------------------------------------
      5,025  total observations
        191  observations begin on or after (first) failure
------------------------------------------------------------------------------
      4,834  observations remaining, representing
      1,000  subjects
        213  failures in single-failure-per-subject data
    630,402  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =     1,035
  213

         failure _d:  composite_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id
(note: file ./output/graphs/km_composite_any.svg not found)
(file ./output/graphs/km_composite_any.svg written in SVG format)

         failure _d:  composite_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log pseudolikelihood = -517.07597
Iteration 1:   log pseudolikelihood = -517.07095
Iteration 2:   log pseudolikelihood = -517.07095
Refining estimates:
Iteration 0:   log pseudolikelihood = -517.07095

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =        1,000             Number of obs    =       2,364
No. of failures      =          213
Time at risk         =       630402
                                                Wald chi2(1)     =        0.01
Log pseudolikelihood =   -517.07095             Prob > chi2      =      0.9220

                           (Std. Err. adjusted for 500 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   .9658616   .3424469    -0.10   0.922     .4820818    1.935125
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/crude_composite_any.ster not found)
file ./output/tempdata/crude_composite_any.ster saved
(note: file ./output/tempdata/surv_crude_composite_any.dta not found)
file ./output/tempdata/surv_crude_composite_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.07714         0.68        1         0.4101
      ------------+---------------------------------------------------
      global test |                      0.68        1         0.4101
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

         failure _d:  composite_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log pseudolikelihood = -515.73019
Iteration 1:   log pseudolikelihood =  -515.1278
Iteration 2:   log pseudolikelihood = -515.12775
Refining estimates:
Iteration 0:   log pseudolikelihood = -515.12775

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          990             Number of obs    =       2,336
No. of failures      =          210
Time at risk         =       624573
                                                Wald chi2(3)     =        1.32
Log pseudolikelihood =   -515.12775             Prob > chi2      =      0.7240

                           (Std. Err. adjusted for 496 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   .9337635   .3373063    -0.19   0.850     .4599967    1.895479
      age_tv |   .9962969   .0041848    -0.88   0.377     .9881285    1.004533
        male |   1.125766   .2166077     0.62   0.538     .7720918    1.641448
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/p_adj_model_composite_any.ster not found)
file ./output/tempdata/p_adj_model_composite_any.ster saved
(note: file ./output/tempdata/p_surv_adj_composite_any.dta not found)
file ./output/tempdata/p_surv_adj_composite_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.07637         0.71        1         0.3978
      age_tv      |     -0.00294         0.00        1         0.9723
      male        |      0.01527         0.03        1         0.8693
      ------------+---------------------------------------------------
      global test |                      0.72        3         0.8676
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

         failure _d:  composite_any_flag
   analysis time _t:  (stop-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

note: any_high_risk_condition omitted because of collinearity
Iteration 0:   log pseudolikelihood = -515.73019
Iteration 1:   log pseudolikelihood = -495.04478
Iteration 2:   log pseudolikelihood = -493.78789
Iteration 3:   log pseudolikelihood = -493.59312
Iteration 4:   log pseudolikelihood =  -493.5234
Iteration 5:   log pseudolikelihood =  -493.4978
Iteration 6:   log pseudolikelihood = -493.48839
Iteration 7:   log pseudolikelihood = -493.48492
Iteration 8:   log pseudolikelihood = -493.48365
Iteration 9:   log pseudolikelihood = -493.48318
Iteration 10:  log pseudolikelihood = -493.48301
Iteration 11:  log pseudolikelihood = -493.48294
Iteration 12:  log pseudolikelihood = -493.48292
Iteration 13:  log pseudolikelihood = -493.48291
Iteration 14:  log pseudolikelihood = -493.48291
Iteration 15:  log pseudolikelihood = -493.48291
Iteration 16:  log pseudolikelihood = -493.48291
Iteration 17:  log pseudolikelihood = -493.48291
Iteration 18:  log pseudolikelihood = -493.48291
Iteration 19:  log pseudolikelihood = -493.48291
Iteration 20:  log pseudolikelihood = -493.48291
Iteration 21:  log pseudolikelihood = -493.48291
Iteration 22:  log pseudolikelihood = -493.48291
Iteration 23:  log pseudolikelihood = -493.48291
Iteration 24:  log pseudolikelihood = -493.48291
Iteration 25:  log pseudolikelihood = -493.48291
Iteration 26:  log pseudolikelihood = -493.48291
Iteration 27:  log pseudolikelihood = -493.48291
Iteration 28:  log pseudolikelihood = -493.48291
Iteration 29:  log pseudolikelihood = -493.48291
Iteration 30:  log pseudolikelihood = -493.48291
Iteration 31:  log pseudolikelihood = -493.48291
Iteration 32:  log pseudolikelihood = -493.48291
Iteration 33:  log pseudolikelihood = -493.48291
Iteration 34:  log pseudolikelihood = -493.48291
Iteration 35:  log pseudolikelihood = -493.48291
Refining estimates:
Iteration 0:   log pseudolikelihood = -493.48291
Iteration 1:   log pseudolikelihood = -493.48291
Iteration 2:   log pseudolikelihood = -493.48291
Iteration 3:   log pseudolikelihood = -493.48291
Iteration 4:   log pseudolikelihood = -493.48291

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          990             Number of obs    =       2,336
No. of failures      =          210
Time at risk         =       624573
                                                Wald chi2(24)    =     5464.06
Log pseudolikelihood =   -493.48291             Prob > chi2      =      0.0000

                           (Std. Err. adjusted for 496 clusters in patient_id)
------------------------------------------------------------------------------
             |               Robust
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        udca |   .9058884   .3437458    -0.26   0.794     .4306061    1.905764
      age_tv |   .9952091   .0040508    -1.18   0.238     .9873014     1.00318
        male |   1.255952   .2555884     1.12   0.263     .8428535    1.871518
any_high_r~n |          1  (omitted)
             |
   ethnicity |
      Mixed  |   1.068783   .3377762     0.21   0.833     .5752778    1.985646
      Asian  |   .8632735   .2784301    -0.46   0.648     .4587878     1.62437
      Black  |     .99387   .3223341    -0.02   0.985     .5263395    1.876693
      Other  |   .9864957   .3038621    -0.04   0.965     .5393946    1.804196
    Unknown  |   .9277633   .4025382    -0.17   0.863     .3963854    2.171484
             |
         imd |
          2  |   2.630638   .9002819     2.83   0.005     1.345101    5.144787
          3  |   3.046678   1.110576     3.06   0.002     1.491236    6.224532
          4  |   2.122319   .7808737     2.05   0.041     1.031869    4.365126
          5  |   1.601605    .619267     1.22   0.223     .7506458    3.417244
          6  |    1.65182   1.056313     0.78   0.433      .471664    5.784861
             |
     bmi_cat |
Underweight  |   .7025329   .2928437    -0.85   0.397     .3103501    1.590309
Healthy r..  |   .7449126   .2550476    -0.86   0.390     .3807727    1.457286
 Overweight  |   .9601825   .2750206    -0.14   0.887     .5477067    1.683292
      Obese  |   1.041984   .2848964     0.15   0.880     .6097164    1.780714
Morbidly ..  |   .3717467   .2253628    -1.63   0.103      .113299    1.219743
             |
     smoking |
Current s..  |   2.019043   1.077039     1.32   0.188      .709709     5.74395
  Ex-smoker  |   1.261276   .7143412     0.41   0.682     .4156428    3.827366
    Unknown  |   3.314928   1.607023     2.47   0.013     1.281815    8.572802
             |
severe_dis~e |   .6874823   .1391464    -1.85   0.064      .462358    1.022221
covid_vacc~t |   .6167524   .1666785    -1.79   0.074     .3631382     1.04749
 liver_trans |   1.17e-17   6.88e-18   -66.06   0.000     3.66e-18    3.70e-17
             |
        wave |
          2  |   1818.768          .        .       .            .           .
          3  |   192248.5          .        .       .            .           .
          4  |   286807.6          .        .       .            .           .
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/adj_model_composite_any.ster not found)
file ./output/tempdata/adj_model_composite_any.ster saved
(note: file ./output/tempdata/surv_adj_composite_any.dta not found)
file ./output/tempdata/surv_adj_composite_any.dta saved

      Test of proportional-hazards assumption

      Time:  Time
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob>chi2
      ------------+---------------------------------------------------
      udca        |     -0.10814         1.91        1         0.1673
      age_tv      |     -0.01133         0.02        1         0.8883
      male        |      0.02833         0.13        1         0.7158
      o.any_high~n|            .            .        1             .
      1b.ethnicity|            .            .        1             .
      2.ethnicity |     -0.11170         1.84        1         0.1754
      3.ethnicity |      0.04410         0.28        1         0.5971
      4.ethnicity |      0.03779         0.18        1         0.6708
      5.ethnicity |     -0.00107         0.00        1         0.9902
      6.ethnicity |      0.08040         1.01        1         0.3139
      1b.imd      |            .            .        1             .
      2.imd       |     -0.07670         0.91        1         0.3411
      3.imd       |     -0.00084         0.00        1         0.9905
      4.imd       |     -0.05072         0.47        1         0.4920
      5.imd       |     -0.06480         0.65        1         0.4187
      6.imd       |     -0.07765         1.14        1         0.2858
      0b.bmi_cat  |            .            .        1             .
      1.bmi_cat   |     -0.02162         0.06        1         0.7998
      2.bmi_cat   |     -0.07172         1.12        1         0.2889
      3.bmi_cat   |      0.07770         0.78        1         0.3767
      4.bmi_cat   |      0.03821         0.21        1         0.6484
      5.bmi_cat   |      0.06783         0.63        1         0.4282
      0b.smoking  |            .            .        1             .
      1.smoking   |     -0.05239         0.48        1         0.4895
      2.smoking   |     -0.02960         0.13        1         0.7170
      3.smoking   |     -0.02126         0.08        1         0.7783
      severe_dis~e|     -0.05675         0.47        1         0.4913
      covid_vacc~t|      0.08860         0.79        1         0.3755
      liver_trans |     -0.00985         0.00        1         0.9490
      1b.wave     |            .            .        1             .
      2.wave      |            .            .        1             .
      3.wave      |            .            .        1             .
      4.wave      |      0.02363            .        1             .
      ------------+---------------------------------------------------
      global test |                     14.75       24         0.9280
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.
(note: file ./output/graphs/schoenplot_composite_any.svg not found)
(file ./output/graphs/schoenplot_composite_any.svg written in SVG format)

     number |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      4,025       80.10       80.10
          1 |      1,000       19.90      100.00
------------+-----------------------------------
      Total |      5,025      100.00

unexposed_e |
        ver |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,000      100.00      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  0
  192
no udca events = 192
(4025 missing values generated)

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
total_foll~p |        897      541499           0     541499     541499
18049.967
1063.7139

exposed_eve |
          r |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        897       89.70       89.70
          1 |        103       10.30      100.00
------------+-----------------------------------
      Total |      1,000      100.00
udca events = 21

. 
. file close tablecontent

. 
end of do-file

. . file open output using "/tmp/106_analysis_models.do.VAnl.out", write text r
> eplace

. . file write output "success" 

. . file close output

. 
end of do-file


